# AIVA AI è¦åŠƒåŠŸèƒ½åˆ†æå ±å‘Š

**åˆ†ææ—¥æœŸ**: 2025å¹´11æœˆ7æ—¥  
**åˆ†æç¯„åœ**: services/core æ¨¡çµ„ä¸­çš„ AI è¦åŠƒç›¸é—œåŠŸèƒ½  
**åˆ†æé‡é»**: AI å¦‚ä½•é€²è¡Œæ”»æ“Šè¦åŠƒã€æ±ºç­–åˆ¶å®šã€ä»»å‹™ç·¨æ’

---

## ğŸ“Š åŸ·è¡Œæ‘˜è¦

### AIVA çš„ AI è¦åŠƒæ¶æ§‹

AIVA æ“æœ‰**å¤šå±¤æ¬¡çš„ AI è¦åŠƒç³»çµ±**ï¼Œå¾é«˜å±¤æˆ°ç•¥è¦åŠƒåˆ°åº•å±¤ä»»å‹™åŸ·è¡Œï¼Œå½¢æˆå®Œæ•´çš„æ±ºç­–éˆï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: AI Commander (æˆ°ç•¥æŒ‡æ®å±¤)              â”‚
â”‚  - ä»»å‹™åˆ†æèˆ‡åˆ†é…                                â”‚
â”‚  - AI çµ„ä»¶å”èª¿                                   â”‚
â”‚  - 9 ç¨®ä»»å‹™é¡å‹æ±ºç­–                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Decision & Planning (æ±ºç­–è¦åŠƒå±¤)       â”‚
â”‚  - EnhancedDecisionAgent (æ™ºèƒ½æ±ºç­–)             â”‚
â”‚  - SkillGraph (æŠ€èƒ½åœ–è­œè¦åŠƒ)                    â”‚
â”‚  - ExecutionPlanner (åŸ·è¡Œè¨ˆåŠƒå™¨)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Plan Execution (è¨ˆåŠƒåŸ·è¡Œå±¤)            â”‚
â”‚  - PlanExecutor (æ”»æ“Šè¨ˆåŠƒåŸ·è¡Œ)                  â”‚
â”‚  - TaskGenerator (ä»»å‹™ç”Ÿæˆ)                     â”‚
â”‚  - AttackPlanMapper (è¨ˆåŠƒæ˜ å°„)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: RAG & Learning (çŸ¥è­˜å¢å¼·å±¤)            â”‚
â”‚  - RAG Engine (çŸ¥è­˜æª¢ç´¢)                        â”‚
â”‚  - ExperienceManager (ç¶“é©—å­¸ç¿’)                 â”‚
â”‚  - TrainingOrchestrator (æŒçºŒè¨“ç·´)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç™¼ç¾ â­

1. **å®Œæ•´çš„å››å±¤è¦åŠƒæ¶æ§‹** âœ…
   - å¾æˆ°ç•¥æ±ºç­–åˆ°æˆ°è¡“åŸ·è¡Œå…¨è¦†è“‹
   - æ¯å±¤è·è²¬æ¸…æ™°ï¼Œç„¡é‡ç–Š

2. **å¤šç¨®è¦åŠƒèƒ½åŠ›ä¸¦å­˜** âœ…
   - æ”»æ“Šè¨ˆåŠƒç”Ÿæˆ
   - ç­–ç•¥æ±ºç­–
   - é¢¨éšªè©•ä¼°
   - ä»»å‹™ç·¨æ’
   - å·¥å…·é¸æ“‡

3. **çŸ¥è­˜é©…å‹•çš„æ™ºèƒ½è¦åŠƒ** âœ…
   - RAG å¢å¼·æ±ºç­–
   - ç¶“é©—å­¸ç¿’åé¥‹
   - æŠ€èƒ½åœ–è­œæŒ‡å°

4. **è·¨èªè¨€å”èª¿è¦åŠƒ** âœ…
   - Python/Go/Rust/TypeScript çµ±ä¸€èª¿åº¦
   - Multi-Language AI Coordinator

---

## ğŸ—ï¸ å››å±¤è¦åŠƒæ¶æ§‹è©³è§£

### Layer 1: AI Commander - æˆ°ç•¥æŒ‡æ®å±¤ ğŸ–ï¸

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/ai_commander.py`  
**ä»£ç¢¼è¡Œæ•¸**: 1,104 è¡Œ  
**æ ¸å¿ƒé¡åˆ¥**: `AICommander`

#### è·è²¬å®šä½

AI Commander æ˜¯ AIVA çš„**æœ€é«˜æŒ‡æ®å®˜**ï¼Œçµ±ä¸€ç®¡ç†å’Œå”èª¿æ‰€æœ‰ AI çµ„ä»¶ã€‚

#### æ”¯æŒçš„ 9 ç¨®ä»»å‹™é¡å‹

```python
class AITaskType(str, Enum):
    # === æ±ºç­–é¡ ===
    ATTACK_PLANNING = "attack_planning"        # æ”»æ“Šè¨ˆç•«ç”Ÿæˆ
    STRATEGY_DECISION = "strategy_decision"    # ç­–ç•¥æ±ºç­–
    RISK_ASSESSMENT = "risk_assessment"        # é¢¨éšªè©•ä¼°
    
    # === åŸ·è¡Œé¡ ===
    VULNERABILITY_DETECTION = "vulnerability_detection"  # æ¼æ´æª¢æ¸¬
    EXPLOIT_EXECUTION = "exploit_execution"              # æ¼æ´åˆ©ç”¨
    CODE_ANALYSIS = "code_analysis"                      # ä»£ç¢¼åˆ†æ
    
    # === å­¸ç¿’é¡ ===
    EXPERIENCE_LEARNING = "experience_learning"  # ç¶“é©—å­¸ç¿’
    MODEL_TRAINING = "model_training"            # æ¨¡å‹è¨“ç·´
    KNOWLEDGE_RETRIEVAL = "knowledge_retrieval"  # çŸ¥è­˜æª¢ç´¢
```

#### å”èª¿çš„ 7 å€‹ AI çµ„ä»¶

```python
class AIComponent(str, Enum):
    BIO_NEURON_AGENT = "bio_neuron_agent"          # Python ä¸»æ§ AI
    RAG_ENGINE = "rag_engine"                      # RAG å¼•æ“
    TRAINING_SYSTEM = "training_system"            # è¨“ç·´ç³»çµ±
    MULTILANG_COORDINATOR = "multilang_coordinator" # å¤šèªè¨€å”èª¿å™¨
    
    # èªè¨€å°ˆå±¬ AI
    GO_AI_MODULE = "go_ai_module"          # Go AI æ¨¡çµ„
    RUST_AI_MODULE = "rust_ai_module"      # Rust AI æ¨¡çµ„
    TS_AI_MODULE = "ts_ai_module"          # TypeScript AI æ¨¡çµ„
```

#### æ ¸å¿ƒåŠŸèƒ½

1. **ä»»å‹™åˆ†æèˆ‡åˆ†é…**
   - åˆ†æç”¨æˆ¶æ„åœ–
   - ç¢ºå®šä»»å‹™é¡å‹
   - é¸æ“‡æœ€ä½³ AI çµ„ä»¶

2. **AI çµ„ä»¶å”èª¿**
   - å”èª¿ BioNeuronRAGAgent
   - èª¿ç”¨ RAG Engine å¢å¼·æ±ºç­–
   - ç®¡ç†å¤šèªè¨€ AI æ¨¡çµ„

3. **æ±ºç­–æ•´åˆ**
   - æ•´åˆå„çµ„ä»¶çš„è¼¸å‡º
   - é¢¨éšªè©•ä¼°èˆ‡æ§åˆ¶
   - ç”Ÿæˆæœ€çµ‚æ±ºç­–

4. **ç¶“é©—ç©ç´¯**
   - è¨˜éŒ„æ±ºç­–éç¨‹
   - å­˜å„²åŸ·è¡Œçµæœ
   - æŒçºŒå­¸ç¿’å„ªåŒ–

**çµ±è¨ˆæ•¸æ“š**:
- æ–‡ä»¶å¤§å°: 1,104 è¡Œ
- ä¸»è¦é¡åˆ¥: 3 å€‹ (AICommander, AITaskType, AIComponent)
- æ”¯æŒä»»å‹™é¡å‹: 9 ç¨®
- å”èª¿çµ„ä»¶æ•¸: 7 å€‹

---

### Layer 2: Decision & Planning - æ±ºç­–è¦åŠƒå±¤ ğŸ§ 

é€™ä¸€å±¤åŒ…å«ä¸‰å€‹æ ¸å¿ƒè¦åŠƒçµ„ä»¶ï¼š

#### 2.1 EnhancedDecisionAgent - æ™ºèƒ½æ±ºç­–ä»£ç†

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/decision/enhanced_decision_agent.py`  
**ä»£ç¢¼è¡Œæ•¸**: 568 è¡Œ  
**æ ¸å¿ƒé¡åˆ¥**: `EnhancedDecisionAgent`, `DecisionContext`, `Decision`

**è¨­è¨ˆç†å¿µ**:
```python
"""AIVA æ±ºç­–ä»£ç†å¢å¼·æ¨¡çµ„
ç”¨é€”: æ•´åˆé¢¨éšªè©•ä¼°å’Œç¶“é©—é©…å‹•æ±ºç­–ï¼Œæå‡ AI æ±ºç­–çš„æ™ºèƒ½åŒ–æ°´å¹³
åŸºæ–¼: BioNeuron_æ¨¡å‹_AIæ ¸å¿ƒå¤§è…¦.md ä¸­çš„æ±ºç­–ä»£ç†åˆ†æ
"""
```

**æ±ºç­–æµç¨‹**:

```
ç”¨æˆ¶è«‹æ±‚
    â†“
DecisionContext (æ±ºç­–ä¸Šä¸‹æ–‡)
â”œâ”€â”€ risk_level              # é¢¨éšªç­‰ç´š
â”œâ”€â”€ discovered_vulns        # å·²ç™¼ç¾æ¼æ´
â”œâ”€â”€ attempts_without_success # å¤±æ•—å˜—è©¦æ¬¡æ•¸
â”œâ”€â”€ target_info             # ç›®æ¨™è³‡è¨Š
â”œâ”€â”€ previous_results        # æ­·å²çµæœ
â”œâ”€â”€ time_constraints        # æ™‚é–“é™åˆ¶
â””â”€â”€ available_tools         # å¯ç”¨å·¥å…·
    â†“
æ±ºç­–è¦å‰‡å¼•æ“ (Decision Rules Engine)
â”œâ”€â”€ high_risk_confirmation   # é«˜é¢¨éšªç¢ºèªè¦å‰‡
â”œâ”€â”€ sql_injection_found      # SQL æ³¨å…¥ç™¼ç¾è¦å‰‡
â”œâ”€â”€ multiple_failures        # å¤šæ¬¡å¤±æ•—è¦å‰‡
â”œâ”€â”€ web_service_detected     # Web æœå‹™æª¢æ¸¬è¦å‰‡
â””â”€â”€ ssh_service_available    # SSH æœå‹™å¯ç”¨è¦å‰‡
    â†“
Decision (æ±ºç­–çµæœ)
â”œâ”€â”€ action                  # å…·é«”å‹•ä½œ
â”œâ”€â”€ params                  # å‹•ä½œåƒæ•¸
â”œâ”€â”€ confidence              # ä¿¡å¿ƒåº¦ (0-1)
â”œâ”€â”€ reasoning               # æ±ºç­–ç†ç”±
â”œâ”€â”€ alternatives            # æ›¿ä»£æ–¹æ¡ˆ
â””â”€â”€ risk_assessment         # é¢¨éšªè©•ä¼°
```

**å·¥å…·é¸æ“‡ç­–ç•¥**:
```python
self.tool_preferences = {
    "sql_injection": ["sqlmap", "havij", "manual_test"],
    "xss": ["xsser", "xsstrike", "manual_test"],
    "directory_traversal": ["dirb", "gobuster", "manual_enum"],
    "port_scan": ["nmap", "masscan", "unicornscan"],
    "web_scan": ["nikto", "dirb", "wpscan"],
    "brute_force": ["hydra", "medusa", "john"],
}
```

**æ±ºç­–è¦å‰‡ç¤ºä¾‹**:
```python
{
    "name": "high_risk_confirmation",
    "condition": lambda ctx: ctx.risk_level in [RiskLevel.HIGH, RiskLevel.CRITICAL],
    "action": "REQUIRE_CONFIRMATION",
    "priority": 100,
    "description": "é«˜é¢¨éšªæ“ä½œéœ€è¦ç”¨æˆ¶ç¢ºèª",
}
```

**çµ±è¨ˆæ•¸æ“š**:
- æ–‡ä»¶å¤§å°: 568 è¡Œ
- æ±ºç­–è¦å‰‡æ•¸: 5 å€‹ï¼ˆå¯æ“´å±•ï¼‰
- å·¥å…·é¸æ“‡ç­–ç•¥: 6 ç¨®æ”»æ“Šé¡å‹
- æ”¯æŒçš„æ“ä½œæ¨¡å¼: èˆ‡ BioNeuronMaster é›†æˆ

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… åŸºæ–¼ä¸Šä¸‹æ–‡çš„æ™ºèƒ½æ±ºç­–
- âœ… é¢¨éšªæ„ŸçŸ¥æ±ºç­–
- âœ… ç¶“é©—é©…å‹•çš„ç­–ç•¥èª¿æ•´
- âœ… å¤šæ¬¡å¤±æ•—å¾Œè‡ªå‹•æ”¹è®Šç­–ç•¥
- âœ… å·¥å…·é¸æ“‡å„ªåŒ–

---

#### 2.2 SkillGraph - æŠ€èƒ½åœ–è­œè¦åŠƒ

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/decision/skill_graph.py`  
**ä»£ç¢¼è¡Œæ•¸**: 618 è¡Œ  
**æ ¸å¿ƒé¡åˆ¥**: `SkillGraphBuilder`, `SkillGraphAnalyzer`, `SkillNode`, `SkillEdge`, `SkillPath`

**è¨­è¨ˆç†å¿µ**:
```python
"""AIVA æŠ€èƒ½åœ– (Skill Graph) æ¨¡çµ„
å¯¦ç¾èƒ½åŠ›é—œä¿‚æ˜ å°„å’Œæ±ºç­–æ”¯æ´
"""
```

**æŠ€èƒ½åœ–çµæ§‹**:

```
SkillNode (æŠ€èƒ½ç¯€é»)
â”œâ”€â”€ id                    # æŠ€èƒ½ ID
â”œâ”€â”€ name                  # æŠ€èƒ½åç¨±
â”œâ”€â”€ language              # å¯¦ç¾èªè¨€ (Python/Go/Rust/TS)
â”œâ”€â”€ topic                 # æ‰€å±¬ä¸»é¡Œ
â”œâ”€â”€ tags                  # æ¨™ç±¤åˆ—è¡¨
â”œâ”€â”€ prerequisites         # å‰ç½®æŠ€èƒ½
â”œâ”€â”€ dependencies          # ä¾è³´æŠ€èƒ½
â”œâ”€â”€ success_rate          # æˆåŠŸç‡
â”œâ”€â”€ avg_latency           # å¹³å‡å»¶é²
â”œâ”€â”€ last_used             # æœ€å¾Œä½¿ç”¨æ™‚é–“
â”œâ”€â”€ usage_count           # ä½¿ç”¨æ¬¡æ•¸
â””â”€â”€ metadata              # å…ƒæ•¸æ“š

SkillEdge (æŠ€èƒ½é‚Š)
â”œâ”€â”€ source                # èµ·å§‹ç¯€é»
â”œâ”€â”€ target                # ç›®æ¨™ç¯€é»
â”œâ”€â”€ relationship_type     # é—œä¿‚é¡å‹
â”‚   â”œâ”€â”€ "prerequisite"    # å‰ç½®æ¢ä»¶
â”‚   â”œâ”€â”€ "alternative"     # æ›¿ä»£æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ "complement"      # äº’è£œé—œä¿‚
â”‚   â””â”€â”€ "sequence"        # é †åºé—œä¿‚
â”œâ”€â”€ weight                # æ¬Šé‡
â”œâ”€â”€ confidence            # ä¿¡å¿ƒåº¦
â””â”€â”€ metadata              # å…ƒæ•¸æ“š
```

**æŠ€èƒ½è·¯å¾‘è¦åŠƒ**:

```python
@dataclass
class SkillPath:
    """æŠ€èƒ½åŸ·è¡Œè·¯å¾‘"""
    nodes: list[str]              # æŠ€èƒ½ç¯€é»åºåˆ—
    edges: list[SkillEdge]        # é€£æ¥é‚Š
    total_weight: float           # ç¸½æ¬Šé‡
    estimated_time: float         # é ä¼°æ™‚é–“
    success_probability: float    # æˆåŠŸæ¦‚ç‡
    description: str = ""         # è·¯å¾‘æè¿°
```

**é—œä¿‚åˆ†æé¡å‹**:

1. **å‰ç½®æ¢ä»¶é—œä¿‚** (`_analyze_prerequisite_relationships`)
   - åˆ†ææŠ€èƒ½çš„å‰ç½®ä¾è³´
   - ç¢ºä¿åŸ·è¡Œé †åºæ­£ç¢º

2. **æ¨™ç±¤ç›¸ä¼¼æ€§é—œä¿‚** (`_analyze_tag_similarity_relationships`)
   - åŸºæ–¼æ¨™ç±¤æ‰¾å‡ºç›¸é—œæŠ€èƒ½
   - ç™¼ç¾æ›¿ä»£æ–¹æ¡ˆ

3. **èªè¨€ç”Ÿæ…‹é—œä¿‚** (`_analyze_language_ecosystem_relationships`)
   - åŒèªè¨€æŠ€èƒ½å„ªå…ˆçµ„åˆ
   - è·¨èªè¨€å”èª¿

4. **ä¸»é¡Œé—œè¯é—œä¿‚** (`_analyze_topic_relationships`)
   - åŒä¸»é¡ŒæŠ€èƒ½å”åŒ
   - æ§‹å»ºæ”»æ“Šéˆ

5. **è¼¸å…¥è¼¸å‡ºé—œä¿‚** (`_analyze_io_relationships`)
   - æ•¸æ“šæµåˆ†æ
   - ç¢ºä¿åƒæ•¸åŒ¹é…

**è¦åŠƒèƒ½åŠ›**:

```python
class SkillGraphAnalyzer:
    """æŠ€èƒ½åœ–åˆ†æå™¨"""
    
    async def find_optimal_path(
        self, 
        start_capability: str, 
        goal_capability: str
    ) -> SkillPath:
        """æ‰¾å‡ºæœ€å„ªæŠ€èƒ½åŸ·è¡Œè·¯å¾‘"""
        
    async def suggest_next_skills(
        self, 
        current_skills: list[str], 
        context: dict
    ) -> list[str]:
        """å»ºè­°ä¸‹ä¸€æ­¥æŠ€èƒ½"""
        
    async def evaluate_attack_chain(
        self, 
        skill_sequence: list[str]
    ) -> dict:
        """è©•ä¼°æ”»æ“Šéˆçš„å¯è¡Œæ€§"""
```

**çµ±è¨ˆæ•¸æ“š**:
- æ–‡ä»¶å¤§å°: 618 è¡Œ
- ä¸»è¦é¡åˆ¥: 5 å€‹
- é—œä¿‚åˆ†æé¡å‹: 5 ç¨®
- ä½¿ç”¨åœ–è«–ç®—æ³•: NetworkX
- æ”¯æŒçš„èªè¨€: Python, Go, Rust, TypeScript

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… æŠ€èƒ½é—œä¿‚å»ºæ¨¡
- âœ… æœ€å„ªè·¯å¾‘è¦åŠƒ
- âœ… æ”»æ“Šéˆæ§‹å»º
- âœ… æˆåŠŸç‡é æ¸¬
- âœ… è·¨èªè¨€æŠ€èƒ½å”èª¿
- âœ… å‹•æ…‹æŠ€èƒ½æ¨è–¦

---

#### 2.3 ExecutionPlanner - åŸ·è¡Œè¨ˆåŠƒå™¨

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/execution_planner.py`  
**ä»£ç¢¼è¡Œæ•¸**: 558 è¡Œ  
**æ ¸å¿ƒé¡åˆ¥**: `ExecutionPlanner`

**è¨­è¨ˆç†å¿µ**:
```python
"""AIVA Execution Planner - åŸ·è¡Œè¨ˆåŠƒå™¨
å¾ aiva_core_v2 é·ç§»åˆ°æ ¸å¿ƒæ¨¡çµ„

ç•°æ­¥åŸ·è¡Œè¨ˆåŠƒå’Œæ­¥é©Ÿç·¨æ’ç³»çµ±
"""
```

**åŸ·è¡Œè¨ˆåŠƒçµæ§‹**:

```python
plan = {
    "plan_id": "plan_<timestamp>_<id>",
    "context": CommandContext,
    "route_info": dict,
    "steps": [
        {
            "type": "validate_input",
            "handler": "input_validator",
            "critical": True,
        },
        {
            "type": "execute_command",
            "handler": "simple_executor",
            "critical": True,
        },
        # ... æ›´å¤šæ­¥é©Ÿ
    ],
    "estimated_time": 1.0,           # é ä¼°æ™‚é–“ï¼ˆç§’ï¼‰
    "resources_required": [],        # éœ€è¦çš„è³‡æº
    "dependencies": [],              # ä¾è³´é …
    "created_at": timestamp,
    "status": "created",
}
```

**æ”¯æŒçš„å‘½ä»¤é¡å‹èˆ‡è¨ˆåŠƒ**:

| å‘½ä»¤é¡å‹ | åŸ·è¡Œæ­¥é©Ÿ | é ä¼°æ™‚é–“ | è³‡æºéœ€æ±‚ |
|---------|---------|---------|---------|
| **SIMPLE** | 1. é©—è­‰è¼¸å…¥<br>2. åŸ·è¡Œå‘½ä»¤<br>3. æ ¼å¼åŒ–è¼¸å‡º | 1 ç§’ | ç„¡ |
| **SCAN** | 1. é©—è­‰ç›®æ¨™<br>2. æº–å‚™æƒæ<br>3. åŸ·è¡Œæƒæ<br>4. è™•ç†çµæœ<br>5. ç”Ÿæˆå ±å‘Š | 30 ç§’ | rust_adapter, scan_engine |
| **ANALYSIS** | 1. é©—è­‰è¼¸å…¥<br>2. æ”¶é›†ä¸Šä¸‹æ–‡<br>3. åˆ†ææ•¸æ“š<br>4. ç”Ÿæˆæ´å¯Ÿ<br>5. æ ¼å¼åŒ–éŸ¿æ‡‰ | 5 ç§’ | analysis_engine |
| **AI_TASK** | 1. åˆ†ææ„åœ–<br>2. æ”¶é›†ä¸Šä¸‹æ–‡<br>3. AI æ¨ç†<br>4. åŸ·è¡Œå‹•ä½œ<br>5. æ ¼å¼åŒ–éŸ¿æ‡‰ | 10 ç§’ | ai_engine, rag_system |
| **REPORT** | 1. é©—è­‰è¼¸å…¥<br>2. æ”¶é›†æ•¸æ“š<br>3. åˆ†æè¶¨å‹¢<br>4. ç”Ÿæˆå ±å‘Š<br>5. æ ¼å¼åŒ–è¼¸å‡º | 15 ç§’ | report_generator |

**åŸ·è¡Œç®¡ç†**:

```python
class ExecutionPlanner:
    def __init__(self):
        self._execution_queue: list[dict]      # åŸ·è¡ŒéšŠåˆ—
        self._running_tasks: dict[str, Task]   # é‹è¡Œä¸­ä»»å‹™
        self._plan_history: dict[str, dict]    # è¨ˆåŠƒæ­·å²
        self._execution_lock: asyncio.Lock     # åŸ·è¡Œé–
```

**çµ±è¨ˆæ•¸æ“š**:
- æ–‡ä»¶å¤§å°: 558 è¡Œ
- æ”¯æŒå‘½ä»¤é¡å‹: 5 ç¨®
- åŸ·è¡Œæ­¥é©Ÿç¯„åœ: 3-5 æ­¥
- é ä¼°æ™‚é–“ç¯„åœ: 1-30 ç§’
- ç•°æ­¥åŸ·è¡Œ: âœ…

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… å¤šå‘½ä»¤é¡å‹è¨ˆåŠƒç”Ÿæˆ
- âœ… ç•°æ­¥ä»»å‹™ç·¨æ’
- âœ… è³‡æºä¾è³´ç®¡ç†
- âœ… åŸ·è¡Œæ™‚é–“é ä¼°
- âœ… è¨ˆåŠƒæ­·å²è¿½è¹¤

---

### Layer 3: Plan Execution - è¨ˆåŠƒåŸ·è¡Œå±¤ âš™ï¸

#### 3.1 PlanExecutor - æ”»æ“Šè¨ˆåŠƒåŸ·è¡Œå™¨

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/execution/plan_executor.py`  
**ä»£ç¢¼è¡Œæ•¸**: 771 è¡Œ  
**æ ¸å¿ƒé¡åˆ¥**: `PlanExecutor`

**è¨­è¨ˆç†å¿µ**:
```python
"""Plan Executor - æ”»æ“Šè¨ˆç•«åŸ·è¡Œå™¨

è² è²¬åŸ·è¡Œæ”»æ“Šè¨ˆç•«ï¼Œç®¡ç†æœƒè©±ç‹€æ…‹ï¼Œå”èª¿ä»»å‹™åˆ†ç™¼å’Œçµæœæ”¶é›†

ç¬¦åˆæ¨™æº–ï¼š
- æ”¯æŒé †åºåŸ·è¡Œå¤šæ­¥é©Ÿæ”»æ“Šéˆ
- é€é RabbitMQ ç™¼é€ä»»å‹™åˆ°å„åŠŸèƒ½æ¨¡çµ„
- ä½¿ç”¨ TraceLogger è¨˜éŒ„åŸ·è¡Œéç¨‹
- ç®¡ç†æœƒè©±ç”Ÿå‘½é€±æœŸ
"""
```

**åŸ·è¡Œæµç¨‹**:

```
AttackPlan (æ”»æ“Šè¨ˆåŠƒ)
â”œâ”€â”€ plan_id              # è¨ˆåŠƒ ID
â”œâ”€â”€ scan_id              # æƒæ ID
â”œâ”€â”€ steps                # æ”»æ“Šæ­¥é©Ÿåˆ—è¡¨
â”‚   â””â”€â”€ AttackStep
â”‚       â”œâ”€â”€ step_id      # æ­¥é©Ÿ ID
â”‚       â”œâ”€â”€ action       # å‹•ä½œé¡å‹
â”‚       â”œâ”€â”€ target       # ç›®æ¨™
â”‚       â”œâ”€â”€ parameters   # åƒæ•¸
â”‚       â””â”€â”€ dependencies # ä¾è³´
â””â”€â”€ metadata             # å…ƒæ•¸æ“š

    â†“

PlanExecutor.execute_plan()
    â†“
å‰µå»ºæœƒè©± (SessionState)
â”œâ”€â”€ session_id
â”œâ”€â”€ plan_id
â”œâ”€â”€ status
â”œâ”€â”€ start_time
â””â”€â”€ steps_status
    â†“
é †åºåŸ·è¡Œæ­¥é©Ÿ
    â”œâ”€â”€ æª¢æŸ¥ä¾è³´
    â”œâ”€â”€ ç”Ÿæˆä»»å‹™ (FunctionTaskPayload)
    â”œâ”€â”€ ç™¼é€åˆ° RabbitMQ
    â”œâ”€â”€ ç­‰å¾…çµæœ
    â””â”€â”€ è¨˜éŒ„è¿½è¹¤ (TraceRecord)
    â†“
æ”¶é›†çµæœ
â”œâ”€â”€ findings (æ¼æ´ç™¼ç¾)
â”œâ”€â”€ trace_records (è¿½è¹¤è¨˜éŒ„)
â”œâ”€â”€ anomalies (ç•°å¸¸)
â””â”€â”€ metrics (æŒ‡æ¨™)
    â†“
PlanExecutionResult
```

**æœƒè©±ç®¡ç†**:

```python
class SessionState:
    session_id: str
    plan_id: str
    scan_id: str
    status: str              # "active", "completed", "failed"
    start_time: datetime
    end_time: datetime | None
    steps_completed: list[str]
    steps_failed: list[str]
    timeout_minutes: int
```

**ä»»å‹™å”èª¿**:

```python
# ä»»å‹™ç®¡ç†
self.running_tasks: dict[str, dict[str, Any]] = {}
self.completed_tasks: dict[str, dict[str, Any]] = {}

# é€é RabbitMQ ç™¼é€ä»»å‹™
await self.mq_client.publish_task(
    task_payload=FunctionTaskPayload(
        task_id=task_id,
        target=FunctionTaskTarget(...),
        function_type=step.action,
        parameters=step.parameters,
    ),
    routing_key=f"function.{step.action}",
)
```

**åŸ·è¡Œçµæœ**:

```python
@dataclass
class PlanExecutionResult:
    plan_id: str
    session_id: str
    success: bool
    findings: list[FindingPayload]      # æ¼æ´ç™¼ç¾
    trace_records: list[TraceRecord]    # åŸ·è¡Œè¿½è¹¤
    anomalies: list[str]                # ç•°å¸¸è¨˜éŒ„
    metrics: PlanExecutionMetrics       # åŸ·è¡ŒæŒ‡æ¨™
    start_time: datetime
    end_time: datetime
    error_message: str | None
```

**çµ±è¨ˆæ•¸æ“š**:
- æ–‡ä»¶å¤§å°: 771 è¡Œ
- ä¸»è¦åŠŸèƒ½: æ”»æ“Šè¨ˆåŠƒåŸ·è¡Œ
- æ”¯æŒ: RabbitMQ ä»»å‹™åˆ†ç™¼
- æœƒè©±ç®¡ç†: âœ…
- è¿½è¹¤è¨˜éŒ„: âœ… (TraceLogger)
- ç•°æ­¥åŸ·è¡Œ: âœ…

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… å¤šæ­¥é©Ÿæ”»æ“ŠéˆåŸ·è¡Œ
- âœ… æœƒè©±ç”Ÿå‘½é€±æœŸç®¡ç†
- âœ… RabbitMQ ä»»å‹™åˆ†ç™¼
- âœ… å¯¦æ™‚è¿½è¹¤è¨˜éŒ„
- âœ… çµæœèšåˆèˆ‡å ±å‘Š
- âœ… è¶…æ™‚æ§åˆ¶
- âœ… æ²™ç®±æ¨¡å¼æ”¯æŒ

---

#### 3.2 åŸ·è¡Œå±¤å…¶ä»–çµ„ä»¶

**execution/ ç›®éŒ„çµæ§‹**:
```
services/core/aiva_core/execution/
â”œâ”€â”€ plan_executor.py              # ä¸»åŸ·è¡Œå™¨ (771 è¡Œ)
â”œâ”€â”€ task_generator.py             # ä»»å‹™ç”Ÿæˆå™¨
â”œâ”€â”€ task_queue_manager.py         # ä»»å‹™éšŠåˆ—ç®¡ç†
â”œâ”€â”€ attack_plan_mapper.py         # è¨ˆåŠƒæ˜ å°„å™¨
â”œâ”€â”€ execution_status_monitor.py   # ç‹€æ…‹ç›£æ§
â””â”€â”€ trace_logger.py               # è¿½è¹¤è¨˜éŒ„å™¨
```

**çµ„ä»¶è·è²¬**:

| çµ„ä»¶ | è·è²¬ | é—œéµåŠŸèƒ½ |
|------|------|----------|
| **PlanExecutor** | ä¸»åŸ·è¡Œå™¨ | åŸ·è¡Œæ”»æ“Šè¨ˆåŠƒï¼Œå”èª¿æ‰€æœ‰çµ„ä»¶ |
| **TaskGenerator** | ä»»å‹™ç”Ÿæˆ | å°‡æ”»æ“Šæ­¥é©Ÿè½‰æ›ç‚ºå…·é«”ä»»å‹™ |
| **TaskQueueManager** | éšŠåˆ—ç®¡ç† | ç®¡ç†ä»»å‹™éšŠåˆ—ï¼Œå„ªå…ˆç´šæ’åº |
| **AttackPlanMapper** | è¨ˆåŠƒæ˜ å°„ | æ˜ å°„é«˜å±¤è¨ˆåŠƒåˆ°åº•å±¤ä»»å‹™ |
| **ExecutionStatusMonitor** | ç‹€æ…‹ç›£æ§ | å¯¦æ™‚ç›£æ§åŸ·è¡Œç‹€æ…‹ |
| **TraceLogger** | è¿½è¹¤è¨˜éŒ„ | è¨˜éŒ„åŸ·è¡Œéç¨‹ï¼Œæ”¯æŒå›æº¯ |

---

### Layer 4: RAG & Learning - çŸ¥è­˜å¢å¼·å±¤ ğŸ“š

#### 4.1 RAG Engine - çŸ¥è­˜æª¢ç´¢å¢å¼·

**ç›¸é—œæ–‡ä»¶**:
- `services/core/aiva_core/rag/rag_engine.py`
- `services/core/aiva_core/rag/knowledge_base.py`
- `services/core/aiva_core/rag/demo_rag_integration.py`

**å¢å¼·è¦åŠƒçš„æ–¹å¼**:

```python
# ç¤ºä¾‹ï¼šä½¿ç”¨ RAG å¢å¼·æ”»æ“Šè¨ˆåŠƒ
async def generate_attack_plan(
    self, 
    target: dict, 
    context: dict
) -> AttackPlan:
    """ä½¿ç”¨ RAG ç”Ÿæˆå¢å¼·çš„æ”»æ“Šè¨ˆåŠƒ"""
    
    # 1. æª¢ç´¢ç›¸é—œçŸ¥è­˜
    knowledge = await self.rag_engine.retrieve(
        query=f"æ”»æ“Šè¨ˆåŠƒç”Ÿæˆï¼š{target['type']}",
        top_k=5
    )
    
    # 2. æ•´åˆçŸ¥è­˜ç”Ÿæˆè¨ˆåŠƒ
    plan = await self._generate_plan_with_knowledge(
        target=target,
        context=context,
        knowledge=knowledge
    )
    
    return plan
```

**æ”¯æŒçš„çŸ¥è­˜é¡å‹**:
1. æ­·å²æ”»æ“Šæ¨¡å¼
2. æ¼æ´åˆ©ç”¨æŠ€è¡“
3. å·¥å…·ä½¿ç”¨ç¶“é©—
4. æˆåŠŸ/å¤±æ•—æ¡ˆä¾‹
5. ç›®æ¨™ç‰¹å¾µè­˜åˆ¥
6. é˜²ç¦¦ç¹éæŠ€å·§
7. æœ€ä½³å¯¦è¸æŒ‡å—

#### 4.2 Experience Manager - ç¶“é©—ç®¡ç†

**åŠŸèƒ½**:
- å­˜å„²åŸ·è¡Œç¶“é©—
- æª¢ç´¢ç›¸ä¼¼å ´æ™¯
- å­¸ç¿’æˆåŠŸæ¨¡å¼
- é¿å…å¤±æ•—è·¯å¾‘

#### 4.3 Training Orchestrator - è¨“ç·´ç·¨æ’

**æ–‡ä»¶ä½ç½®**: `services/core/aiva_core/training/training_orchestrator.py`

**èˆ‡è¦åŠƒçš„é—œä¿‚**:
```python
async def _generate_ai_attack_plan(
    self, 
    scenario, 
    rag_context: dict[str, Any]
):
    """åŸºæ–¼å ´æ™¯å’Œ RAG ä¸Šä¸‹æ–‡ç”Ÿæˆ AI æ”»æ“Šè¨ˆåŠƒ"""
    
    # ä½¿ç”¨ RAG å¢å¼·è¨ˆåŠƒç”Ÿæˆ
    attack_plan = await self.rag_engine.enhance_attack_plan(
        scenario=scenario,
        context=rag_context
    )
    
    return attack_plan
```

**æŒçºŒå­¸ç¿’å¾ªç’°**:
```
åŸ·è¡Œæ”»æ“Šè¨ˆåŠƒ
    â†“
æ”¶é›†åŸ·è¡Œçµæœ
    â†“
å­˜å„²ç‚ºç¶“é©—
    â†“
è¨“ç·´æ¨¡å‹
    â†“
æ”¹é€²æ±ºç­–
    â†“
ç”Ÿæˆæ›´å¥½çš„è¨ˆåŠƒ
```

---

## ğŸ”„ å®Œæ•´çš„è¦åŠƒæ±ºç­–æµç¨‹

### ç«¯åˆ°ç«¯æµç¨‹ç¤ºä¾‹ï¼šSQL æ³¨å…¥æ”»æ“Šè¦åŠƒ

```
ç”¨æˆ¶è¼¸å…¥: "æ¸¬è©¦ç›®æ¨™ç¶²ç«™çš„ SQL æ³¨å…¥æ¼æ´"
    â†“
ã€Layer 1: AI Commanderã€‘
â”œâ”€ ä»»å‹™åˆ†æ: AITaskType.ATTACK_PLANNING
â”œâ”€ é¸æ“‡çµ„ä»¶: BIO_NEURON_AGENT + RAG_ENGINE
â””â”€ åˆå§‹åŒ–ä¸Šä¸‹æ–‡
    â†“
ã€Layer 2: Decision & Planningã€‘
â”œâ”€ EnhancedDecisionAgent
â”‚   â”œâ”€ åˆ†æä¸Šä¸‹æ–‡ (DecisionContext)
â”‚   â”‚   â”œâ”€ risk_level: MEDIUM
â”‚   â”‚   â”œâ”€ available_tools: ["sqlmap", "havij", "manual_test"]
â”‚   â”‚   â””â”€ target_info: {url: "http://example.com"}
â”‚   â”œâ”€ æ‡‰ç”¨æ±ºç­–è¦å‰‡
â”‚   â”‚   â””â”€ web_service_detected â†’ WEB_ATTACK
â”‚   â””â”€ ç”Ÿæˆæ±ºç­– (Decision)
â”‚       â”œâ”€ action: "sql_injection_test"
â”‚       â”œâ”€ params: {tool: "sqlmap", level: 2}
â”‚       â””â”€ confidence: 0.85
â”‚
â”œâ”€ SkillGraph
â”‚   â”œâ”€ æŸ¥æ‰¾æŠ€èƒ½è·¯å¾‘
â”‚   â”‚   â”œâ”€ start: "web_recon"
â”‚   â”‚   â”œâ”€ goal: "sql_injection_exploit"
â”‚   â”‚   â””â”€ path: [
â”‚   â”‚       "web_recon",           # Web åµå¯Ÿ
â”‚   â”‚       "parameter_discovery",  # åƒæ•¸ç™¼ç¾
â”‚   â”‚       "sql_injection_test",  # SQL æ³¨å…¥æ¸¬è©¦
â”‚   â”‚       "data_extraction"      # æ•¸æ“šæå–
â”‚   â”‚   ]
â”‚   â”œâ”€ è©•ä¼°è·¯å¾‘
â”‚   â”‚   â”œâ”€ success_probability: 0.78
â”‚   â”‚   â””â”€ estimated_time: 120s
â”‚   â””â”€ æ¨è–¦å·¥å…·åºåˆ—
â”‚       â””â”€ ["nikto", "sqlmap", "sqlmap"]
â”‚
â””â”€ ExecutionPlanner
    â””â”€ å‰µå»ºåŸ·è¡Œè¨ˆåŠƒ
        â”œâ”€ plan_id: "plan_1730956800_12345"
        â”œâ”€ steps: [
        â”‚     {type: "validate_target", handler: "target_validator"},
        â”‚     {type: "web_recon", handler: "nikto"},
        â”‚     {type: "sql_test", handler: "sqlmap"},
        â”‚     {type: "data_extract", handler: "sqlmap"},
        â”‚     {type: "generate_report", handler: "report_generator"}
        â”‚ ]
        â”œâ”€ estimated_time: 120s
        â””â”€ resources_required: ["sqlmap", "nikto"]
    â†“
ã€Layer 4: RAG Enhancementã€‘
â”œâ”€ RAG Engine æª¢ç´¢
â”‚   â”œâ”€ æŸ¥è©¢: "SQL injection attack planning for login forms"
â”‚   â””â”€ æª¢ç´¢çµæœ (top 5):
â”‚       â”œâ”€ "SQL injection bypass techniques"
â”‚       â”œâ”€ "Common SQL injection patterns in PHP"
â”‚       â”œâ”€ "WAF bypass strategies"
â”‚       â”œâ”€ "Error-based SQL injection examples"
â”‚       â””â”€ "Time-based blind SQL injection"
â”‚
â””â”€ å¢å¼·è¨ˆåŠƒ
    â””â”€ æ·»åŠ çŸ¥è­˜é©…å‹•çš„åƒæ•¸
        â”œâ”€ sqlmap_options: ["--risk=2", "--level=3", "--tamper=space2comment"]
        â””â”€ bypass_techniques: ["union-based", "error-based", "time-based"]
    â†“
ã€Layer 3: Plan Executionã€‘
â””â”€ PlanExecutor
    â”œâ”€ å‰µå»ºæœƒè©±: session_abc123
    â”œâ”€ åŸ·è¡Œæ­¥é©Ÿ 1: validate_target âœ…
    â”œâ”€ åŸ·è¡Œæ­¥é©Ÿ 2: web_recon (nikto) âœ…
    â”‚   â””â”€ ç™¼ç¾: ç™»éŒ„è¡¨å–®åœ¨ /login.php
    â”œâ”€ åŸ·è¡Œæ­¥é©Ÿ 3: sql_test (sqlmap) âœ…
    â”‚   â””â”€ ç™¼ç¾: SQL æ³¨å…¥æ¼æ´ (Boolean-based)
    â”œâ”€ åŸ·è¡Œæ­¥é©Ÿ 4: data_extract (sqlmap) âœ…
    â”‚   â””â”€ æå–: æ•¸æ“šåº«åç¨±ã€è¡¨åç¨±
    â”œâ”€ åŸ·è¡Œæ­¥é©Ÿ 5: generate_report âœ…
    â”‚   â””â”€ ç”Ÿæˆ: æ¼æ´å ±å‘Š PDF
    â””â”€ è¿”å›çµæœ
        â””â”€ PlanExecutionResult
            â”œâ”€ success: true
            â”œâ”€ findings: [SQLiFinding(...)]
            â””â”€ metrics: {duration: 118s, steps_completed: 5}
    â†“
ã€Layer 4: Learning Feedbackã€‘
â””â”€ ç¶“é©—å­˜å„²
    â”œâ”€ æˆåŠŸæ¡ˆä¾‹è¨˜éŒ„
    â”œâ”€ æ›´æ–°æŠ€èƒ½æˆåŠŸç‡
    â”‚   â””â”€ sql_injection_test: 0.78 â†’ 0.79
    â””â”€ è¨“ç·´æ¨¡å‹
        â””â”€ æ”¹é€²æœªä¾†çš„ SQL æ³¨å…¥æ”»æ“Šè¦åŠƒ
```

---

## ğŸ“Š è¦åŠƒèƒ½åŠ›çµ±è¨ˆç¸½è¡¨

### ä»£ç¢¼è¦æ¨¡

| å±¤æ¬¡/çµ„ä»¶ | æ–‡ä»¶ | ä»£ç¢¼è¡Œæ•¸ | ä¸»è¦é¡åˆ¥ | æ ¸å¿ƒåŠŸèƒ½ |
|----------|------|----------|----------|----------|
| **Layer 1: AI Commander** | ai_commander.py | 1,104 | 3 | æˆ°ç•¥æŒ‡æ® |
| **Layer 2: Decision** | enhanced_decision_agent.py | 568 | 3 | æ™ºèƒ½æ±ºç­– |
| **Layer 2: Skill Graph** | skill_graph.py | 618 | 5 | æŠ€èƒ½è¦åŠƒ |
| **Layer 2: Execution Planner** | execution_planner.py | 558 | 1 | åŸ·è¡Œç·¨æ’ |
| **Layer 3: Plan Executor** | plan_executor.py | 771 | 1 | è¨ˆåŠƒåŸ·è¡Œ |
| **Layer 3: å…¶ä»–åŸ·è¡Œçµ„ä»¶** | task_generator.py ç­‰ | ~800 | 5 | ä»»å‹™ç®¡ç† |
| **Layer 4: RAG Engine** | rag_engine.py ç­‰ | ~1,500 | 8 | çŸ¥è­˜å¢å¼· |
| **ç¸½è¨ˆ** | - | **5,919** | **26** | - |

### è¦åŠƒèƒ½åŠ›çŸ©é™£

| èƒ½åŠ›é¡å‹ | æ”¯æŒç¨‹åº¦ | å¯¦ç¾çµ„ä»¶ | ä»£ç¢¼è¡Œæ•¸ |
|---------|---------|---------|----------|
| **æˆ°ç•¥è¦åŠƒ** | âœ…âœ…âœ… | AICommander | 1,104 |
| **æ±ºç­–åˆ¶å®š** | âœ…âœ…âœ… | EnhancedDecisionAgent | 568 |
| **æŠ€èƒ½è·¯å¾‘è¦åŠƒ** | âœ…âœ…âœ… | SkillGraph | 618 |
| **ä»»å‹™ç·¨æ’** | âœ…âœ…âœ… | ExecutionPlanner | 558 |
| **è¨ˆåŠƒåŸ·è¡Œ** | âœ…âœ…âœ… | PlanExecutor | 771 |
| **çŸ¥è­˜å¢å¼·** | âœ…âœ…âœ… | RAG Engine | ~1,500 |
| **ç¶“é©—å­¸ç¿’** | âœ…âœ… | ExperienceManager | ~300 |
| **é¢¨éšªè©•ä¼°** | âœ…âœ…âœ… | RiskAssessmentEngine | 380 |
| **è·¨èªè¨€å”èª¿** | âœ…âœ… | MultiLanguageAICoordinator | ~500 |

**åœ–ä¾‹**: âœ…âœ…âœ… å®Œæ•´æ”¯æŒ | âœ…âœ… å¤§éƒ¨åˆ†æ”¯æŒ | âœ… åŸºæœ¬æ”¯æŒ

---

## ğŸ’¡ è¦åŠƒèƒ½åŠ›è©•ä¼°

### å„ªå‹¢ â­

1. **å®Œæ•´çš„å››å±¤æ¶æ§‹** â­â­â­
   - å¾æˆ°ç•¥åˆ°æˆ°è¡“å…¨è¦†è“‹
   - æ¯å±¤è·è²¬æ¸…æ™°
   - ç„¡é‡ç–Šæˆ–ç¼ºå¤±

2. **çŸ¥è­˜é©…å‹•çš„æ™ºèƒ½è¦åŠƒ** â­â­â­
   - RAG å¢å¼·æ±ºç­–è³ªé‡
   - ç¶“é©—å­¸ç¿’æŒçºŒæ”¹é€²
   - æŠ€èƒ½åœ–è­œæŒ‡å°è·¯å¾‘é¸æ“‡

3. **å¤šç¶­åº¦æ±ºç­–èƒ½åŠ›** â­â­â­
   - é¢¨éšªæ„ŸçŸ¥æ±ºç­–
   - å·¥å…·é¸æ“‡å„ªåŒ–
   - å¤±æ•—è‡ªå‹•èª¿æ•´ç­–ç•¥

4. **è·¨èªè¨€çµ±ä¸€èª¿åº¦** â­â­â­
   - Python/Go/Rust/TypeScript å”èª¿
   - çµ±ä¸€çš„ä»»å‹™ç·¨æ’
   - èªè¨€ç„¡é—œçš„è¦åŠƒé‚è¼¯

5. **å®Œå–„çš„è¿½è¹¤èˆ‡ç›£æ§** â­â­
   - TraceLogger è¨˜éŒ„åŸ·è¡Œéç¨‹
   - ExecutionStatusMonitor å¯¦æ™‚ç›£æ§
   - æ”¯æŒå›æº¯åˆ†æ

### å¯æ”¹é€²ä¹‹è™• ğŸ”¹

1. **è¨ˆåŠƒç”Ÿæˆçš„è‡ªå‹•åŒ–ç¨‹åº¦** ğŸ”¹
   - **ç¾ç‹€**: éƒ¨åˆ†ä¾è³´é å®šç¾©è¦å‰‡
   - **å»ºè­°**: å¢åŠ åŸºæ–¼æ·±åº¦å­¸ç¿’çš„è¨ˆåŠƒç”Ÿæˆ
   - **å„ªé»**: æ›´éˆæ´»é©æ‡‰æ–°å ´æ™¯

2. **æŠ€èƒ½åœ–çš„å‹•æ…‹æ›´æ–°** ğŸ”¹
   - **ç¾ç‹€**: éœ€è¦æ‰‹å‹•æ§‹å»ºæŠ€èƒ½åœ–
   - **å»ºè­°**: è‡ªå‹•å¾åŸ·è¡Œçµæœæ›´æ–°æŠ€èƒ½é—œä¿‚
   - **å„ªé»**: è‡ªå‹•ç™¼ç¾æ–°çš„æ”»æ“Šæ¨¡å¼

3. **å¤šç›®æ¨™å„ªåŒ–** ğŸ”¹
   - **ç¾ç‹€**: ä¸»è¦å„ªåŒ–æˆåŠŸç‡å’Œæ™‚é–“
   - **å»ºè­°**: å¢åŠ éš±è”½æ€§ã€è³‡æºæ¶ˆè€—ç­‰å¤šç›®æ¨™
   - **å„ªé»**: æ›´ç¬¦åˆå¯¦éš›æ»²é€æ¸¬è©¦éœ€æ±‚

4. **åˆ†å¸ƒå¼åŸ·è¡Œè¦åŠƒ** ğŸ”¹
   - **ç¾ç‹€**: å–®æ©ŸåŸ·è¡Œç‚ºä¸»
   - **å»ºè­°**: æ”¯æŒåˆ†å¸ƒå¼ä¸¦è¡Œæ”»æ“Šè¦åŠƒ
   - **å„ªé»**: æé«˜å¤§è¦æ¨¡æ¸¬è©¦æ•ˆç‡

---

## ğŸ¯ ä½¿ç”¨å ´æ™¯ç¤ºä¾‹

### å ´æ™¯ 1: è‡ªå‹•æ»²é€æ¸¬è©¦

```python
# ç”¨æˆ¶è¼¸å…¥
target = "http://example.com"
goal = "æ‰¾å‡ºä¸¦åˆ©ç”¨æ‰€æœ‰é«˜å±æ¼æ´"

# AI Commander åˆ†æä¸¦è¦åŠƒ
result = await ai_commander.execute_task(
    task_type=AITaskType.ATTACK_PLANNING,
    target=target,
    goal=goal
)

# è‡ªå‹•ç”Ÿæˆçš„æ”»æ“Šè¨ˆåŠƒ
attack_plan = result.plan
# steps:
# 1. Port Scan (nmap) - ç™¼ç¾é–‹æ”¾ç«¯å£
# 2. Service Detection - è­˜åˆ¥æœå‹™ç‰ˆæœ¬
# 3. Vulnerability Scan (nikto) - æƒæ Web æ¼æ´
# 4. SQL Injection Test (sqlmap) - æ¸¬è©¦ SQL æ³¨å…¥
# 5. XSS Test (xsser) - æ¸¬è©¦ XSS
# 6. SSRF Test (custom) - æ¸¬è©¦ SSRF
# 7. Exploit Execution - åˆ©ç”¨é«˜å±æ¼æ´
# 8. Report Generation - ç”Ÿæˆå ±å‘Š
```

### å ´æ™¯ 2: é©æ‡‰æ€§æ”»æ“Š

```python
# åˆå§‹è¨ˆåŠƒå¤±æ•—
context = DecisionContext()
context.attempts_without_success = 3
context.discovered_vulns = []
context.target_info = {"waf": "Cloudflare"}

# æ™ºèƒ½æ±ºç­–èª¿æ•´ç­–ç•¥
decision = await enhanced_decision_agent.make_decision(context)
# decision.action = "CHANGE_STRATEGY"
# decision.params = {
#     "new_approach": "stealth_mode",
#     "tools": ["manual_test"],
#     "techniques": ["waf_bypass", "slow_scan"]
# }
```

### å ´æ™¯ 3: æŠ€èƒ½è·¯å¾‘å„ªåŒ–

```python
# æ‰¾å‡ºæœ€å„ªæ”»æ“Šè·¯å¾‘
path = await skill_graph_analyzer.find_optimal_path(
    start_capability="web_recon",
    goal_capability="privilege_escalation"
)

# è¿”å›:
# SkillPath(
#     nodes=["web_recon", "sqli_test", "database_enum", 
#            "credential_harvest", "ssh_access", "privilege_escalation"],
#     total_weight=6.5,
#     estimated_time=300s,
#     success_probability=0.72
# )
```

---

## ğŸ“ˆ æœªä¾†ç™¼å±•å»ºè­°

### çŸ­æœŸå„ªåŒ–ï¼ˆ1-3 å€‹æœˆï¼‰

1. **å¢å¼· RAG çŸ¥è­˜åº«** ğŸ“š
   - æ·»åŠ æ›´å¤šæ”»æ“Šæ¨¡å¼å’ŒæŠ€è¡“
   - æ•´åˆå…¬é–‹æ¼æ´æ•¸æ“šåº«
   - æ”¯æŒè‡ªå®šç¾©çŸ¥è­˜æ³¨å…¥

2. **å„ªåŒ–æ±ºç­–è¦å‰‡å¼•æ“** ğŸ§ 
   - å¢åŠ æ›´å¤šæ±ºç­–è¦å‰‡
   - æ”¯æŒè¦å‰‡å„ªå…ˆç´šå‹•æ…‹èª¿æ•´
   - æ·»åŠ è¦å‰‡è¡çªè§£æ±ºæ©Ÿåˆ¶

3. **æ”¹é€²æŠ€èƒ½åœ–æ§‹å»º** ğŸ”—
   - è‡ªå‹•åŒ–æŠ€èƒ½é—œä¿‚ç™¼ç¾
   - åŸºæ–¼åŸ·è¡Œçµæœæ›´æ–°æŠ€èƒ½æˆåŠŸç‡
   - æ”¯æŒæŠ€èƒ½ç‰ˆæœ¬ç®¡ç†

### ä¸­æœŸç™¼å±•ï¼ˆ3-6 å€‹æœˆï¼‰

1. **æ·±åº¦å­¸ç¿’è¦åŠƒå™¨** ğŸ¤–
   - ä½¿ç”¨å¼·åŒ–å­¸ç¿’è¨“ç·´è¦åŠƒæ¨¡å‹
   - ç«¯åˆ°ç«¯çš„æ”»æ“Šåºåˆ—ç”Ÿæˆ
   - è‡ªé©æ‡‰åƒæ•¸å„ªåŒ–

2. **åˆ†å¸ƒå¼åŸ·è¡Œæ”¯æŒ** ğŸŒ
   - æ”¯æŒå¤šç¯€é»ä¸¦è¡ŒåŸ·è¡Œ
   - åˆ†å¸ƒå¼ä»»å‹™èª¿åº¦
   - è·¨ç¯€é»ç‹€æ…‹åŒæ­¥

3. **é«˜ç´šå°æŠ—è¦åŠƒ** ğŸ›¡ï¸
   - é˜²ç¦¦æ„ŸçŸ¥çš„æ”»æ“Šè¦åŠƒ
   - WAF/IDS ç¹éç­–ç•¥
   - éš±è”½æ€§å„ªåŒ–

### é•·æœŸé¡˜æ™¯ï¼ˆ6-12 å€‹æœˆï¼‰

1. **è‡ªä¸»å­¸ç¿’ç³»çµ±** ğŸ“
   - å¾æˆåŠŸ/å¤±æ•—æ¡ˆä¾‹è‡ªå‹•å­¸ç¿’
   - ç„¡ç›£ç£ç™¼ç¾æ–°æ”»æ“Šæ¨¡å¼
   - æŒçºŒæ¼”é€²çš„æ”»æ“Šç­–ç•¥

2. **å¤šç›®æ¨™å„ªåŒ–æ¡†æ¶** ğŸ¯
   - å¹³è¡¡æˆåŠŸç‡ã€æ™‚é–“ã€éš±è”½æ€§ã€è³‡æº
   - å¸•ç´¯æ‰˜æœ€å„ªè§£æœç´¢
   - ç”¨æˆ¶åå¥½å­¸ç¿’

3. **å”ä½œå¼ AI è¦åŠƒ** ğŸ‘¥
   - å¤š AI Agent å”åŒè¦åŠƒ
   - å°ˆå®¶ç³»çµ±èˆ‡ç¥ç¶“ç¶²çµ¡èåˆ
   - äººæ©Ÿå”ä½œè¦åŠƒç•Œé¢

---

## ğŸ“ çµè«–

### ç¸½é«”è©•åƒ¹ â­â­â­â­â­ (5/5)

AIVA çš„ AI è¦åŠƒèƒ½åŠ›**éå¸¸å®Œæ•´å’Œæˆç†Ÿ**ï¼Œå…·æœ‰ï¼š

1. âœ… **å®Œæ•´çš„å››å±¤è¦åŠƒæ¶æ§‹**
   - æˆ°ç•¥ã€æ±ºç­–ã€åŸ·è¡Œã€å­¸ç¿’å…¨è¦†è“‹
   - ç¸½è¨ˆè¿‘ 6,000 è¡Œæ ¸å¿ƒè¦åŠƒä»£ç¢¼

2. âœ… **å¤šæ¨£åŒ–çš„è¦åŠƒèƒ½åŠ›**
   - æ”»æ“Šè¨ˆåŠƒç”Ÿæˆ
   - æ™ºèƒ½æ±ºç­–åˆ¶å®š
   - æŠ€èƒ½è·¯å¾‘è¦åŠƒ
   - ä»»å‹™ç•°æ­¥ç·¨æ’
   - çŸ¥è­˜å¢å¼·æ±ºç­–

3. âœ… **çŸ¥è­˜é©…å‹•çš„æ™ºèƒ½åŒ–**
   - RAG å¢å¼·è¦åŠƒè³ªé‡
   - ç¶“é©—å­¸ç¿’æŒçºŒæ”¹é€²
   - æŠ€èƒ½åœ–è­œæŒ‡å°æ±ºç­–

4. âœ… **å·¥ç¨‹å¯¦ç¾å®Œå–„**
   - ç•°æ­¥åŸ·è¡Œæ”¯æŒ
   - å®Œæ•´çš„è¿½è¹¤ç›£æ§
   - æœƒè©±ç”Ÿå‘½é€±æœŸç®¡ç†
   - RabbitMQ ä»»å‹™åˆ†ç™¼

### èˆ‡åŸå§‹è²ç¨±çš„å°æ¯”

**åŸå§‹è²ç¨±**: "è¨±å¤šæœ¬æ‡‰å±¬æ–¼ã€AI å¤§è…¦ã€æ ¸å¿ƒæ¨¡çµ„çš„åŠŸèƒ½ï¼Œè¢«éŒ¯èª¤åœ°åˆ†æ•£åˆ°äº†å…¶ä»–æ¨¡çµ„"

**å¯¦éš›æƒ…æ³**: âŒ **å®Œå…¨ä¸ç¬¦**

- âœ… æ‰€æœ‰è¦åŠƒåŠŸèƒ½éƒ½æ­£ç¢ºåœ°åœ¨ `services/core` æ¨¡çµ„
- âœ… åˆ†å±¤æ¶æ§‹æ¸…æ™°ï¼Œè·è²¬åŠƒåˆ†åˆç†
- âœ… æ²’æœ‰åŠŸèƒ½éŒ¯èª¤æ”¾ç½®æˆ–é‡è¤‡
- âœ… ç¬¦åˆè»Ÿä»¶å·¥ç¨‹æœ€ä½³å¯¦è¸

### å»ºè­°

1. **ç¹¼çºŒä¿æŒç¾æœ‰æ¶æ§‹** âœ…
   - ä¸éœ€è¦å¤§è¦æ¨¡é‡æ§‹
   - æ¶æ§‹è¨­è¨ˆå„ªç§€

2. **æ¼¸é€²å¼å„ªåŒ–** âœ…
   - å¢å¼· RAG çŸ¥è­˜åº«
   - æ·»åŠ æ·±åº¦å­¸ç¿’è¦åŠƒå™¨
   - æ”¯æŒåˆ†å¸ƒå¼åŸ·è¡Œ

3. **æ–‡æª”å®Œå–„** ğŸ“
   - æ·»åŠ è¦åŠƒæµç¨‹åœ–
   - ç·¨å¯«ä½¿ç”¨ç¤ºä¾‹
   - èªªæ˜å„å±¤è·è²¬

---

**å ±å‘Šå®Œæˆæ™‚é–“**: 2025å¹´11æœˆ7æ—¥  
**ä¸‹ä¸€æ­¥**: å¯ä»¥åŸºæ–¼æ­¤å ±å‘Šé€²è¡Œå…·é«”çš„å„ªåŒ–å·¥ä½œ

**å ±å‘Šä½œè€…**: AIVA æ¶æ§‹åˆ†æç³»çµ±
