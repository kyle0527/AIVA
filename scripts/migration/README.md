# 🔄 Database Migration Tools

> **資料庫遷移工具目錄** - AIVA 資料庫升級專用工具  
> **工具類型**: 資料庫遷移、架構升級、資料轉換  
> **腳本數量**: 1個專業遷移工具

---

## 📋 目錄概述

此目錄包含 AIVA 系統的資料庫遷移工具，負責處理資料庫架構升級、資料轉換和版本遷移等重要任務。確保系統升級過程中資料的完整性和一致性。

---

## 🗂️ 工具列表

### 📊 遷移工具
- **`database_migration.py`** - 主要資料庫遷移工具
  - 支援多種資料庫類型 (MySQL, PostgreSQL, SQLite)
  - 提供版本控制和回滾機制
  - 自動備份功能
  - 遷移進度追蹤

---

## 🎯 主要功能

### 🔄 資料庫遷移
- **架構遷移**: 更新資料表結構和索引
- **資料轉換**: 處理資料格式變更
- **版本升級**: 支援增量和完整遷移
- **相容性檢查**: 驗證新舊版本相容性

### 🛡️ 安全機制
- **自動備份**: 遷移前自動建立備份
- **回滾支援**: 遷移失敗時可回復原狀
- **完整性檢查**: 驗證遷移後資料完整性
- **日誌記錄**: 詳細的遷移過程記錄

---

## 🚀 使用說明

### 基本使用
```bash
# 檢查遷移狀態
python database_migration.py --status

# 執行遷移 (乾燥運行)
python database_migration.py --dry-run

# 執行完整遷移
python database_migration.py --migrate

# 回滾上一次遷移
python database_migration.py --rollback
```

### 進階選項
```bash
# 指定目標版本
python database_migration.py --migrate --target-version 2.1.0

# 僅遷移特定模組
python database_migration.py --migrate --module core

# 顯示遷移計劃
python database_migration.py --plan
```

---

## ⚠️ 重要注意事項

### 🔒 遷移前準備
1. **完整備份**: 務必先備份整個資料庫
2. **停機時間**: 規劃適當的維護時間窗口
3. **權限確認**: 確保有足夠的資料庫權限
4. **空間檢查**: 確保有足夠的磁碟空間

### 📋 遷移清單
- [ ] 備份現有資料庫
- [ ] 檢查系統依賴
- [ ] 驗證遷移腳本
- [ ] 執行乾燥運行
- [ ] 規劃回滾方案
- [ ] 執行實際遷移
- [ ] 驗證遷移結果

---

## 🔧 環境要求

- Python 3.8+
- 適當的資料庫驅動程式
- 資料庫管理員權限
- 足夠的磁碟空間 (至少是資料庫大小的 2 倍)

---

**⚠️ 關鍵提醒**: 資料庫遷移是高風險操作，請務必在生產環境中進行充分測試，並準備完整的回滾計劃。

**維護者**: AIVA Database Team  
**最後更新**: 2025-11-17  
**工具狀態**: ✅ 遷移工具已測試驗證

---

[← 返回 Scripts 主目錄](../README.md)