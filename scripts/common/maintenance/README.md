# AIVA ç¶­è­·å·¥å…·é›† (Maintenance Tools)

æœ¬ç›®éŒ„åŒ…å« AIVA å°ˆæ¡ˆçš„ç¶­è­·ã€è¨ºæ–·å’Œå„ªåŒ–å·¥å…·ï¼Œç”¨æ–¼ç³»çµ±å¥åº·æª¢æŸ¥ã€å•é¡Œä¿®å¾©å’Œå°ˆæ¡ˆç®¡ç†ã€‚

## ğŸ“ ç›®éŒ„çµæ§‹

```
maintenance/
â”œâ”€â”€ README.md                                    # æœ¬èªªæ˜æ–‡ä»¶
â”œâ”€â”€ check_status.ps1                             # ç³»çµ±ç‹€æ…‹æª¢æŸ¥è…³æœ¬
â”œâ”€â”€ diagnose_system.ps1                          # ç³»çµ±è¨ºæ–·å·¥å…·
â”œâ”€â”€ fix_import_paths.py                          # å°å…¥è·¯å¾‘ä¿®å¾©å·¥å…·
â”œâ”€â”€ generate_project_report.ps1                  # å°ˆæ¡ˆå®Œæ•´å ±å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ generate_stats.ps1                           # å°ˆæ¡ˆçµ±è¨ˆç”Ÿæˆè…³æœ¬
â”œâ”€â”€ generate_tree_ultimate_chinese.ps1           # ç¨‹å¼ç¢¼æ¨¹ç‹€åœ–ç”Ÿæˆå™¨ï¼ˆçµ‚æ¥µæ•´åˆç‰ˆï¼‰
â”œâ”€â”€ generate_tree_ultimate_chinese_backup.ps1    # å‚™ä»½ç‰ˆæœ¬
â”œâ”€â”€ health_check_multilang.ps1                   # å¤šèªè¨€ç³»çµ±å¥åº·æª¢æŸ¥
â”œâ”€â”€ optimize_core_modules.ps1                    # æ ¸å¿ƒæ¨¡çµ„å„ªåŒ–è…³æœ¬
â””â”€â”€ system_repair_tool.py                        # ç³»çµ±è‡ªå‹•ä¿®å¾©å·¥å…·
```

---

## ğŸ› ï¸ å·¥å…·èªªæ˜

### 1. **check_status.ps1** - ç³»çµ±ç‹€æ…‹æª¢æŸ¥

**åŠŸèƒ½ï¼š** å¿«é€Ÿæª¢æŸ¥ AIVA ç³»çµ±æ‰€æœ‰æœå‹™çš„é‹è¡Œç‹€æ…‹

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
.\check_status.ps1
```

**æª¢æŸ¥é …ç›®ï¼š**
- âœ… Docker å®¹å™¨ç‹€æ…‹ï¼ˆaiva, rabbitmq, postgresï¼‰
- âœ… æœå‹™åŸ è™Ÿæª¢æŸ¥ï¼ˆ8001, 8003, 5672, 15672, 5432ï¼‰
- âœ… Python é€²ç¨‹ç‹€æ…‹ï¼ˆuvicorn, workerï¼‰
- âœ… API ç«¯é»å¥åº·æª¢æŸ¥ï¼ˆCore API, Integration API, RabbitMQï¼‰

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
========================================
ğŸ“Š AIVA ç³»çµ±ç‹€æ…‹æª¢æŸ¥
========================================

ğŸ³ Docker å®¹å™¨ç‹€æ…‹:
   âœ… aiva-core       Up 2 hours
   âœ… rabbitmq        Up 2 hours

ğŸ”Œ æœå‹™åŸ è™Ÿæª¢æŸ¥:
   âœ… Port 8001 - Core API
   âœ… Port 8003 - Integration API

ğŸ Python é€²ç¨‹:
   âœ… é‹è¡Œä¸­: 3 å€‹ Python é€²ç¨‹
```

---

### 2. **diagnose_system.ps1** - ç³»çµ±è¨ºæ–·å·¥å…·

**åŠŸèƒ½ï¼š** å…¨é¢è¨ºæ–·ç³»çµ±å•é¡Œä¸¦æä¾›ä¿®å¾©å»ºè­°

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
.\diagnose_system.ps1
```

**è¨ºæ–·é …ç›®ï¼š**
1. **åŸºæœ¬ç’°å¢ƒæª¢æŸ¥**
   - Pythonã€Node.jsã€Goã€Rustã€Docker å®‰è£ç‹€æ…‹
   - Docker æœå‹™é‹è¡Œç‹€æ…‹

2. **é …ç›®çµæ§‹æª¢æŸ¥**
   - å¿…è¦ç›®éŒ„å­˜åœ¨æ€§
   - è™›æ“¬ç’°å¢ƒå®Œæ•´æ€§

3. **é…ç½®æ–‡ä»¶æª¢æŸ¥**
   - pyproject.tomlã€requirements.txtã€docker-compose.yml

4. **ç«¯å£å ç”¨æª¢æŸ¥**
   - 8001, 8003, 5432, 5672, 15672, 6379, 7474, 7687

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸ” æª¢æŸ¥åŸºæœ¬ç’°å¢ƒ...
   âœ… Python: Python 3.11.5
   âœ… Node.js: v18.17.0
   âœ… Docker: Docker version 24.0.6

âš ï¸  è¨ºæ–·å®Œæˆ - ç™¼ç¾ 2 å€‹å•é¡Œ

ğŸ”§ ç™¼ç¾çš„å•é¡Œ:
   â€¢ Docker æœå‹™æœªé‹è¡Œ
   â€¢ Python è™›æ“¬ç’°å¢ƒä¸å­˜åœ¨

ğŸ’¡ ä¿®å¾©å»ºè­°:
   â€¢ å•Ÿå‹• Docker Desktop
   â€¢ å‰µå»ºè™›æ“¬ç’°å¢ƒ: python -m venv .venv
```

---

### 3. **fix_import_paths.py** - å°å…¥è·¯å¾‘ä¿®å¾©å·¥å…·

**åŠŸèƒ½ï¼š** è‡ªå‹•ä¿®å¾© Python è…³æœ¬çš„å°å…¥è·¯å¾‘å•é¡Œ

**ä½¿ç”¨æ–¹å¼ï¼š**
```bash
python fix_import_paths.py
```

**ä¿®å¾©é …ç›®ï¼š**
- ä¿®æ­£ç›¸å°è·¯å¾‘å°å…¥ç‚ºçµ•å°è·¯å¾‘
- çµ±ä¸€ `sys.path` è¨­å®š
- é©—è­‰é—œéµæ¨¡çµ„å°å…¥

**ä¿®å¾©æ¨¡å¼ï¼š**
```python
# ä¿®å¾©å‰
sys.path.insert(0, str(Path(__file__).parent))

# ä¿®å¾©å¾Œ
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root))
```

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸ”§ AIVA å°å…¥è·¯å¾‘ä¿®å¾©å·¥å…·
==================================================
ğŸ“ é …ç›®æ ¹ç›®éŒ„: C:\D\fold7\AIVA-git
ğŸ“„ æ‰¾åˆ° 45 å€‹Pythonæ–‡ä»¶éœ€è¦æª¢æŸ¥

âœ… ä¿®å¾©: scripts\testing\test_script.py
âšª ç„¡éœ€ä¿®å¾©: scripts\common\utils.py

ğŸ¯ ä¿®å¾©å®Œæˆ! å…±ä¿®å¾© 12 å€‹æ–‡ä»¶

ğŸ” æª¢æŸ¥å°å…¥å•é¡Œ...
âœ… services.aiva_common.enums.modules
âœ… services.scan.aiva_scan
```

---

### 4. **generate_project_report.ps1** - å°ˆæ¡ˆå®Œæ•´å ±å‘Šç”Ÿæˆå™¨

**åŠŸèƒ½ï¼š** ç”Ÿæˆæ•´åˆäº†æ¨¹ç‹€åœ–ã€çµ±è¨ˆæ•¸æ“šå’Œæ¶æ§‹åœ–çš„å®Œæ•´å°ˆæ¡ˆå ±å‘Š

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
.\generate_project_report.ps1
```

**åƒæ•¸ï¼š**
```powershell
.\generate_project_report.ps1 -ProjectRoot "C:\D\fold7\AIVA-git" -OutputDir "C:\D\fold7\AIVA-git\_out"
```

**ç”Ÿæˆå…§å®¹ï¼š**
1. **çµ±è¨ˆæ•¸æ“š**
   - æª”æ¡ˆé¡å‹çµ±è¨ˆï¼ˆTop 10ï¼‰
   - ç¨‹å¼ç¢¼è¡Œæ•¸çµ±è¨ˆï¼ˆä¾å‰¯æª”åï¼‰
   - å¤šèªè¨€æ¶æ§‹åˆ†æï¼ˆPythonã€Goã€Rustã€TypeScriptï¼‰

2. **ç›®éŒ„çµæ§‹**
   - å®Œæ•´æ¨¹ç‹€åœ–ï¼ˆå¸¶åœ–ç¤ºï¼‰
   - æœ€å¤š 10 å±¤æ·±åº¦
   - è‡ªå‹•æ’é™¤å¿«å–å’Œè™›æ“¬ç’°å¢ƒ

3. **Mermaid æ¶æ§‹åœ–**
   - å¤šèªè¨€æ¶æ§‹æ¦‚è¦½
   - ç¨‹å¼ç¢¼åˆ†å¸ƒçµ±è¨ˆï¼ˆé¤…åœ–ï¼‰
   - æ¨¡çµ„é—œä¿‚åœ–
   - æŠ€è¡“æ£§é¸æ“‡æµç¨‹åœ–

**è¼¸å‡ºæ–‡ä»¶ï¼š**
- `PROJECT_REPORT.txt` - å®Œæ•´æ–‡å­—å ±å‘Š
- `tree.mmd` - Mermaid æ¶æ§‹åœ–

**å ±å‘Šç¤ºä¾‹ï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š å°ˆæ¡ˆçµ±è¨ˆæ‘˜è¦
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ç¸½æ–‡ä»¶æ•¸é‡: 1,234
ç¸½ç¨‹å¼ç¢¼è¡Œæ•¸: 45,678
ç¨‹å¼ç¢¼æª”æ¡ˆæ•¸: 456

ğŸ’» ç¨‹å¼ç¢¼è¡Œæ•¸çµ±è¨ˆ (ä¾å‰¯æª”å)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  .py          25,123 è¡Œ  (234 å€‹æª”æ¡ˆ, å¹³å‡ 107.4 è¡Œ/æª”æ¡ˆ)
  .go           8,456 è¡Œ  ( 89 å€‹æª”æ¡ˆ, å¹³å‡  95.0 è¡Œ/æª”æ¡ˆ)
  .rs           5,234 è¡Œ  ( 45 å€‹æª”æ¡ˆ, å¹³å‡ 116.3 è¡Œ/æª”æ¡ˆ)
  .ts           3,456 è¡Œ  ( 67 å€‹æª”æ¡ˆ, å¹³å‡  51.6 è¡Œ/æª”æ¡ˆ)

ğŸ“ˆ å°ˆæ¡ˆè¦æ¨¡åˆ†æ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ Python ç¨‹å¼ç¢¼: 25,123 è¡Œ (234 å€‹æª”æ¡ˆ, 55.0% ä½”æ¯”)
ğŸ”· Go ç¨‹å¼ç¢¼: 8,456 è¡Œ (89 å€‹æª”æ¡ˆ, 18.5% ä½”æ¯”)
ğŸ¦€ Rust ç¨‹å¼ç¢¼: 5,234 è¡Œ (45 å€‹æª”æ¡ˆ, 11.5% ä½”æ¯”)
ğŸ“˜ TypeScript/JavaScript: 3,456 è¡Œ (67 å€‹æª”æ¡ˆ, 7.6% ä½”æ¯”)
```

---

### 5. **generate_stats.ps1** - å°ˆæ¡ˆçµ±è¨ˆç”Ÿæˆè…³æœ¬

**åŠŸèƒ½ï¼š** ç”Ÿæˆå°ˆæ¡ˆæ–‡ä»¶çµ±è¨ˆå’Œç¨‹å¼ç¢¼è¡Œæ•¸çµ±è¨ˆ

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
.\generate_stats.ps1
```

**ç”Ÿæˆæ–‡ä»¶ï¼š**
1. `ext_counts.csv` - å‰¯æª”åçµ±è¨ˆ
2. `loc_by_ext.csv` - ç¨‹å¼ç¢¼è¡Œæ•¸çµ±è¨ˆï¼ˆä¾å‰¯æª”åï¼‰
3. `tree_ascii.txt` - ASCII æ¨¹ç‹€åœ–
4. `tree_unicode.txt` - Unicode æ¨¹ç‹€åœ–
5. `tree.mmd` - Mermaid æ ¼å¼æ¨¹ç‹€åœ–
6. `tree.html` - HTML å¯è¦–åŒ–ç‰ˆæœ¬
7. `tree.md` - Markdown æ¨¹ç‹€åœ–ï¼ˆå¸¶åœ–ç¤ºï¼‰

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“Š å°ˆæ¡ˆçµ±è¨ˆæ‘˜è¦:
  ç¸½æ–‡ä»¶æ•¸: 1,234
  ç¸½ç¨‹å¼ç¢¼è¡Œæ•¸: 45,678

ğŸ¯ Top 5 å‰¯æª”å (ä¾æ–‡ä»¶æ•¸):
  .py: 234 å€‹æ–‡ä»¶
  .md: 123 å€‹æ–‡ä»¶
  .json: 89 å€‹æ–‡ä»¶

ğŸ’» Top 5 å‰¯æª”å (ä¾ç¨‹å¼ç¢¼è¡Œæ•¸):
  .py: 25,123 è¡Œ (234 å€‹æ–‡ä»¶, å¹³å‡ 107.4 è¡Œ/æ–‡ä»¶)
  .go: 8,456 è¡Œ (89 å€‹æ–‡ä»¶, å¹³å‡ 95.0 è¡Œ/æ–‡ä»¶)
```

---

### 6. **generate_tree_ultimate_chinese.ps1** - ç¨‹å¼ç¢¼æ¨¹ç‹€åœ–ç”Ÿæˆå™¨ï¼ˆçµ‚æ¥µæ•´åˆç‰ˆï¼‰

**åŠŸèƒ½ï¼š** ç”Ÿæˆå¸¶ä¸­æ–‡è¨»è§£å’Œå·®ç•°æ¨™è¨˜çš„ç¨‹å¼ç¢¼æ¨¹ç‹€åœ–

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
# é¦–æ¬¡åŸ·è¡Œ
.\generate_tree_ultimate_chinese.ps1 -ShowColorInTerminal -AddChineseComments

# èˆ‡ä¸Šä¸€ç‰ˆæ¯”å°
.\generate_tree_ultimate_chinese.ps1 -PreviousTreeFile "tree_ultimate_chinese_20251025_120000.txt" -ShowColorInTerminal -AddChineseComments
```

**åƒæ•¸ï¼š**
- `-ProjectRoot` - å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼ˆé è¨­ï¼šç•¶å‰ç›®éŒ„ï¼‰
- `-OutputDir` - è¼¸å‡ºç›®éŒ„ï¼ˆé è¨­ï¼š`_out`ï¼‰
- `-PreviousTreeFile` - ä¸Šä¸€ç‰ˆæ¨¹ç‹€åœ–æª”æ¡ˆï¼ˆç”¨æ–¼å·®ç•°å°æ¯”ï¼‰
- `-ShowColorInTerminal` - åœ¨çµ‚ç«¯é¡¯ç¤ºå½©è‰²è¼¸å‡º
- `-AddChineseComments` - æ·»åŠ ä¸­æ–‡æª”åèªªæ˜

**ç‰¹è‰²åŠŸèƒ½ï¼š**
1. **å·®ç•°æ¨™è¨˜**
   - `[+]` = ğŸŸ¢ æ–°å¢çš„æª”æ¡ˆæˆ–ç›®éŒ„
   - `[-]` = ğŸ”´ å·²åˆªé™¤çš„æª”æ¡ˆæˆ–ç›®éŒ„
   - `    ` = âšª ä¿æŒä¸è®Š

2. **ä¸­æ–‡æª”åèªªæ˜**
   - è‡ªå‹•è­˜åˆ¥ Pythonã€Goã€Rustã€TypeScript æª”æ¡ˆ
   - æ™ºæ…§æ¨æ¸¬åŠŸèƒ½ç”¨é€”
   - è¦†è“‹ AIVA å°ˆæ¡ˆç‰¹å®šæ¨¡çµ„

3. **èªè¨€åˆ†å¸ƒçµ±è¨ˆ**
   - Pythonã€Goã€Rustã€TypeScript ä½”æ¯”
   - æª”æ¡ˆæ•¸é‡å’Œè¡Œæ•¸çµ±è¨ˆ

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
AIVA                                              # AIVA å®‰å…¨æª¢æ¸¬å¹³å°
â”œâ”€services/                                       # æœå‹™æ¨¡çµ„
â”‚   â”œâ”€aiva_common/                               # AIVA å…±ç”¨æ¨¡çµ„
â”‚   â”‚   â”œâ”€__init__.py                            # æ¨¡çµ„åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€config.py                              # é…ç½®ç®¡ç†
[+] â”‚   â”‚   â”œâ”€new_module.py                      # æ–°å¢æ¨¡çµ„
â”‚   â”‚   â””â”€enums/                                 # åˆ—èˆ‰å®šç¾©
â”‚   â”‚       â”œâ”€__init__.py                        # æ¨¡çµ„åˆå§‹åŒ–
â”‚   â”‚       â””â”€modules.py                         # æ¨¡çµ„åˆ—èˆ‰
â”‚   â”œâ”€core/                                       # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”‚   â””â”€aiva_core/                             # AIVA æ ¸å¿ƒæ¨¡çµ„
â”‚   â”‚       â”œâ”€app.py                             # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚   â”‚       â”œâ”€ai_engine/                         # AI å¼•æ“
â”‚   â”‚       â”‚   â”œâ”€bio_neuron_core.py             # ç”Ÿç‰©ç¥ç¶“å…ƒæ ¸å¿ƒ
â”‚   â”‚       â”‚   â””â”€ai_commander.py                # AI æŒ‡æ®å®˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”´ å·²åˆªé™¤çš„é …ç›® (å…± 3 å€‹):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[-] old_module.py                                # èˆŠæ¨¡çµ„
[-] deprecated_service/                          # å·²å»¢æ£„æœå‹™
```

---

### 7. **health_check_multilang.ps1** - å¤šèªè¨€ç³»çµ±å¥åº·æª¢æŸ¥

**åŠŸèƒ½ï¼š** æª¢æŸ¥å¤šèªè¨€å¾®æœå‹™æ¶æ§‹çš„å¥åº·ç‹€æ…‹

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
.\health_check_multilang.ps1
```

**æª¢æŸ¥é …ç›®ï¼š**
1. **åŸºç¤è¨­æ–½ç‹€æ…‹**
   - Docker å®¹å™¨é‹è¡Œç‹€æ…‹

2. **Web æœå‹™ç«¯é»**
   - Core API (8001)
   - Integration API (8003)
   - RabbitMQ (15672)
   - PostgreSQL (5432)
   - Redis (6379)
   - Neo4j (7474)

3. **é‹è¡Œé€²ç¨‹**
   - Python é€²ç¨‹
   - Node.js é€²ç¨‹
   - Go é€²ç¨‹
   - Rust é€²ç¨‹

4. **ç³»çµ±è³‡æºä½¿ç”¨**
   - CPU ä½¿ç”¨ç‡
   - è¨˜æ†¶é«”ä½¿ç”¨
   - ç£ç¢Ÿä½¿ç”¨

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸ” AIVA å¤šèªè¨€ç³»çµ± - å¥åº·æª¢æŸ¥

ğŸ—ï¸  åŸºç¤è¨­æ–½ç‹€æ…‹
   âœ… Docker å®¹å™¨ç‹€æ…‹

ğŸŒ Web æœå‹™ç«¯é»æª¢æŸ¥
   âœ… Core API: æ­£å¸¸
   âœ… Integration API: æ­£å¸¸
   âŒ Redis: ç„¡æ³•é€£æ¥ localhost:6379

âš¡ é‹è¡Œé€²ç¨‹æª¢æŸ¥
   âœ… Python é€²ç¨‹: 5 å€‹é‹è¡Œä¸­
   âœ… Node.js é€²ç¨‹: 2 å€‹é‹è¡Œä¸­

ğŸ“Š ç³»çµ±è³‡æºä½¿ç”¨
   ğŸ’» CPU ä½¿ç”¨ç‡: 45.2%
   ğŸ§  è¨˜æ†¶é«”ä½¿ç”¨: 8.5 GB / 16 GB (53.1%)
   ğŸ’½ ç£ç¢Ÿä½¿ç”¨ (C:): 120.3 GB / 512 GB (23.5%)
```

---

### 8. **optimize_core_modules.ps1** - æ ¸å¿ƒæ¨¡çµ„å„ªåŒ–è…³æœ¬

**åŠŸèƒ½ï¼š** åŸ·è¡Œæ ¸å¿ƒæ¨¡çµ„çš„å„ªåŒ–ä»»å‹™

**ä½¿ç”¨æ–¹å¼ï¼š**
```powershell
# é¡¯ç¤ºå¹«åŠ©
.\optimize_core_modules.ps1 help

# åŸ·è¡Œæ‰€æœ‰å„ªåŒ–ï¼ˆæ¨è–¦ï¼‰
.\optimize_core_modules.ps1 all

# é è¦½æ¨¡å¼
.\optimize_core_modules.ps1 all -DryRun

# å–®ç¨åŸ·è¡Œå„ªåŒ–
.\optimize_core_modules.ps1 unify-ai         # çµ±ä¸€AIå¼•æ“
.\optimize_core_modules.ps1 refactor-app     # é‡æ§‹app.py
.\optimize_core_modules.ps1 split-optimized  # æ‹†åˆ†optimized_core.py
.\optimize_core_modules.ps1 monitor          # è¨­ç½®æ•ˆèƒ½ç›£æ§
```

**å„ªåŒ–é …ç›®ï¼š**

1. **unify-ai** - çµ±ä¸€ AI å¼•æ“ç‰ˆæœ¬
   - åˆä½µ `bio_neuron_core.py` å’Œ `bio_neuron_core_v2.py`
   - å‚™ä»½èˆŠç‰ˆæœ¬åˆ° `legacy/`
   - ç”Ÿæˆå·®ç•°åˆ†æå ±å‘Š

2. **refactor-app** - é‡æ§‹ app.py ä¾è³´æ³¨å…¥
   - å‰µå»ºä¾è³´æ³¨å…¥å®¹å™¨
   - å‰µå»ºçµ„ä»¶å·¥å» 
   - åˆ†é›¢åˆå§‹åŒ–é‚è¼¯

3. **split-optimized** - æ‹†åˆ† optimized_core.py
   - å‰µå»ºå°ˆæ¥­åŒ–æ¨¡çµ„ï¼š
     - `parallel_processing.py` - ä¸¦è¡Œè™•ç†
     - `neural_optimization.py` - ç¥ç¶“ç¶²è·¯å„ªåŒ–
     - `memory_management.py` - è¨˜æ†¶é«”ç®¡ç†
     - `metrics_collection.py` - æŒ‡æ¨™æ”¶é›†
     - `component_pooling.py` - å…ƒä»¶æ± 

4. **monitor** - è¨­ç½®æ•ˆèƒ½ç›£æ§ç³»çµ±
   - å‰µå»ºæ•ˆèƒ½ç›£æ§å™¨
   - è¨­ç½®æŒ‡æ¨™æ”¶é›†
   - é…ç½®é–¾å€¼å‘Šè­¦

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸš€ é–‹å§‹åŸ·è¡Œæ‰€æœ‰æ ¸å¿ƒæ¨¡çµ„å„ªåŒ–...

âœ… å‰ç½®æ¢ä»¶æª¢æŸ¥å®Œæˆ

â„¹ï¸  æ­¥é©Ÿ 1/4: çµ±ä¸€AIå¼•æ“
âœ… å‚™ä»½æ–‡ä»¶: bio_neuron_core.py.backup -> legacy\
âœ… å·®ç•°åˆ†æå®Œæˆï¼Œçµæœä¿å­˜è‡³ ai_engine_diff.txt
âœ… AIå¼•æ“çµ±ä¸€å®Œæˆ

â„¹ï¸  æ­¥é©Ÿ 2/4: é‡æ§‹app.py
âœ… ä¾è³´æ³¨å…¥å®¹å™¨å‰µå»ºå®Œæˆ
âœ… çµ„ä»¶å·¥å» å‰µå»ºå®Œæˆ

âœ… æ‰€æœ‰æ ¸å¿ƒæ¨¡çµ„å„ªåŒ–å®Œæˆï¼

å¾ŒçºŒæ­¥é©Ÿï¼š
1. æ‰‹å‹•å®Œæˆ optimized_core.py çš„ç¨‹å¼ç¢¼é·ç§»
2. æ›´æ–° app.py ä»¥ä½¿ç”¨æ–°çš„ä¾è³´æ³¨å…¥ç³»çµ±
3. é‹è¡Œæ¸¬è©¦ç¢ºä¿åŠŸèƒ½æ­£å¸¸
```

---

### 9. **system_repair_tool.py** - ç³»çµ±è‡ªå‹•ä¿®å¾©å·¥å…·

**åŠŸèƒ½ï¼š** è‡ªå‹•è¨ºæ–·å’Œä¿®å¾©ç³»çµ±å•é¡Œ

**ä½¿ç”¨æ–¹å¼ï¼š**
```bash
python system_repair_tool.py
```

**ä¿®å¾©é …ç›®ï¼š**

1. **Python å°å…¥å•é¡Œ**
   - å‰µå»ºç¼ºå¤±çš„ `__init__.py`
   - åŸ·è¡Œ schema å°å…¥ä¿®å¾©è…³æœ¬
   - é©—è­‰æ¨¡çµ„å°å…¥

2. **Go æ¨¡çµ„ä¾è³´**
   - æ¸…ç† `go.sum`
   - åŸ·è¡Œ `go mod tidy`
   - ä¸‹è¼‰ä¾è³´
   - ç·¨è­¯æ¸¬è©¦
   - ä¿®å¾©ç‰¹å®šéŒ¯èª¤ï¼ˆå¦‚ SSRF æœªä½¿ç”¨è®Šæ•¸ï¼‰

3. **Rust ç·¨è­¯å•é¡Œ**
   - æ¸…ç† `target/` ç›®éŒ„
   - åŸ·è¡Œ `cargo update`
   - é‹è¡Œ `cargo check`

4. **ç³»çµ±é€šé€£æ€§æª¢æŸ¥**
   - æ¸¬è©¦æ¨¡çµ„å°å…¥
   - é©—è­‰æ¨¡çµ„é–“é€šä¿¡

5. **é¶å ´é€£æ¥é©—è­‰**
   - æ¸¬è©¦ localhost:3000 é€£æ¥

**è¼¸å‡ºç¤ºä¾‹ï¼š**
```
ğŸš€ AIVA ç³»çµ±ä¿®å¾©é–‹å§‹
======================================================================

ğŸ ä¿®å¾© Python å°å…¥...
âœ… [Python Import] Create __init__.py: services/__init__.py
âœ… [Python Import] Run schema fix: success

ğŸ”§ ä¿®å¾© Go æ¨¡çµ„ä¾è³´...
âœ… [function_authn_go] Clean go.sum: success
âœ… [function_authn_go] Go mod tidy: success
âœ… [function_ssrf_go] Fix unused variable: å·²ä¿®å¾© awsV2Token æœªä½¿ç”¨å•é¡Œ

ğŸ¦€ ä¿®å¾© Rust æ¨¡çµ„...
âœ… [SAST Analyzer] Clean target: success
âœ… [SAST Analyzer] Cargo check: ç·¨è­¯æˆåŠŸï¼Œ3 å€‹è­¦å‘Š

ğŸ” æª¢æŸ¥ç³»çµ±é€šé€£æ€§...
âœ… [Connectivity] Import Common Module: success
âœ… [Connectivity] Import Core Module: success

ğŸ“Š ç”Ÿæˆä¿®å¾©å ±å‘Š...
âœ… [System] Save report: aiva_system_repair_report_20251025_120000.json

======================================================================
ğŸ”§ AIVA ç³»çµ±ä¿®å¾©å ±å‘Š
======================================================================
ğŸ• ä¿®å¾©æ™‚é–“: 2025-10-25T12:00:00
ğŸ“Š ä¿®å¾©å‹•ä½œ: 32 å€‹
âœ… æˆåŠŸ: 28 å€‹
âŒ å¤±æ•—: 2 å€‹
âš ï¸ è­¦å‘Š: 2 å€‹
ğŸ“ˆ æˆåŠŸç‡: 87.5%

ğŸ“‹ æ¨¡çµ„ä¿®å¾©ç‹€æ…‹:
   âœ… Python Import: 5/5 æˆåŠŸ
   âœ… function_authn_go: 4/4 æˆåŠŸ
   âœ… SAST Analyzer: 3/3 æˆåŠŸ
   âš ï¸  function_cspm_go: 2/4 æˆåŠŸ

âœ… ç³»çµ±ä¿®å¾©å®Œæˆï¼
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### åŸºæœ¬å¥åº·æª¢æŸ¥
```powershell
# 1. æª¢æŸ¥ç³»çµ±ç‹€æ…‹
.\check_status.ps1

# 2. è¨ºæ–·å•é¡Œ
.\diagnose_system.ps1

# 3. è‡ªå‹•ä¿®å¾©
python system_repair_tool.py
```

### å°ˆæ¡ˆå ±å‘Šç”Ÿæˆ
```powershell
# ç”Ÿæˆå®Œæ•´å ±å‘Š
.\generate_project_report.ps1

# ç”Ÿæˆçµ±è¨ˆæ•¸æ“š
.\generate_stats.ps1

# ç”Ÿæˆç¨‹å¼ç¢¼æ¨¹ç‹€åœ–ï¼ˆå¸¶ä¸­æ–‡è¨»è§£ï¼‰
.\generate_tree_ultimate_chinese.ps1 -ShowColorInTerminal -AddChineseComments
```

### ç³»çµ±å„ªåŒ–
```powershell
# å„ªåŒ–æ ¸å¿ƒæ¨¡çµ„
.\optimize_core_modules.ps1 all

# ä¿®å¾©å°å…¥è·¯å¾‘
python fix_import_paths.py
```

---

## ğŸ“Š å·¥å…·åˆ†é¡

### ç‹€æ…‹æª¢æŸ¥é¡
- `check_status.ps1` - å¿«é€Ÿç‹€æ…‹æª¢æŸ¥
- `health_check_multilang.ps1` - å…¨é¢å¥åº·æª¢æŸ¥
- `diagnose_system.ps1` - å•é¡Œè¨ºæ–·

### ä¿®å¾©é¡
- `system_repair_tool.py` - è‡ªå‹•ä¿®å¾©å·¥å…·
- `fix_import_paths.py` - å°å…¥è·¯å¾‘ä¿®å¾©

### å ±å‘Šç”Ÿæˆé¡
- `generate_project_report.ps1` - å®Œæ•´å°ˆæ¡ˆå ±å‘Š
- `generate_stats.ps1` - çµ±è¨ˆæ•¸æ“š
- `generate_tree_ultimate_chinese.ps1` - ç¨‹å¼ç¢¼æ¨¹ç‹€åœ–

### å„ªåŒ–é¡
- `optimize_core_modules.ps1` - æ ¸å¿ƒæ¨¡çµ„å„ªåŒ–

---

## ğŸ”§ å¸¸è¦‹ä½¿ç”¨å ´æ™¯

### å ´æ™¯ 1ï¼šæ¯æ—¥ç³»çµ±æª¢æŸ¥
```powershell
# æ—©ä¸Šå•Ÿå‹•ç³»çµ±æ™‚
.\check_status.ps1
.\health_check_multilang.ps1
```

### å ´æ™¯ 2ï¼šç™¼ç¾å•é¡Œå¾Œ
```powershell
# è¨ºæ–·å•é¡Œ
.\diagnose_system.ps1

# è‡ªå‹•ä¿®å¾©
python system_repair_tool.py

# æ‰‹å‹•ä¿®å¾©å°å…¥å•é¡Œ
python fix_import_paths.py
```

### å ´æ™¯ 3ï¼šå°ˆæ¡ˆå ±å‘Š
```powershell
# ç”Ÿæˆå®Œæ•´å ±å‘Šï¼ˆé€±å ±ã€æœˆå ±ï¼‰
.\generate_project_report.ps1

# ç”Ÿæˆç¨‹å¼ç¢¼æ¨¹ç‹€åœ–ï¼ˆè¿½è¹¤è®Šæ›´ï¼‰
.\generate_tree_ultimate_chinese.ps1 -PreviousTreeFile "ä¸Šä¸€ç‰ˆ.txt" -AddChineseComments
```

### å ´æ™¯ 4ï¼šç³»çµ±å„ªåŒ–
```powershell
# å®šæœŸå„ªåŒ–æ ¸å¿ƒæ¨¡çµ„
.\optimize_core_modules.ps1 all -DryRun  # å…ˆé è¦½
.\optimize_core_modules.ps1 all          # ç¢ºèªå¾ŒåŸ·è¡Œ
```

---

## ğŸ“ è¼¸å‡ºæ–‡ä»¶ä½ç½®

æ‰€æœ‰ç”Ÿæˆçš„å ±å‘Šå’Œæ–‡ä»¶é è¨­å„²å­˜åœ¨ï¼š
```
C:\D\fold7\AIVA-git\_out\
â”œâ”€â”€ PROJECT_REPORT.txt                    # å°ˆæ¡ˆå®Œæ•´å ±å‘Š
â”œâ”€â”€ tree.mmd                              # Mermaid æ¶æ§‹åœ–
â”œâ”€â”€ ext_counts.csv                        # å‰¯æª”åçµ±è¨ˆ
â”œâ”€â”€ loc_by_ext.csv                        # ç¨‹å¼ç¢¼è¡Œæ•¸çµ±è¨ˆ
â”œâ”€â”€ tree_ascii.txt                        # ASCII æ¨¹ç‹€åœ–
â”œâ”€â”€ tree_unicode.txt                      # Unicode æ¨¹ç‹€åœ–
â”œâ”€â”€ tree.html                             # HTML å¯è¦–åŒ–
â”œâ”€â”€ tree.md                               # Markdown æ¨¹ç‹€åœ–
â”œâ”€â”€ tree_ultimate_chinese_*.txt           # ä¸­æ–‡æ¨¹ç‹€åœ–ï¼ˆå¸¶æ™‚é–“æˆ³ï¼‰
â””â”€â”€ aiva_system_repair_report_*.json      # ä¿®å¾©å ±å‘Šï¼ˆå¸¶æ™‚é–“æˆ³ï¼‰
```

---

## âš™ï¸ ç’°å¢ƒéœ€æ±‚

### PowerShell è…³æœ¬
- PowerShell 5.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- Windows ä½œæ¥­ç³»çµ±

### Python è…³æœ¬
- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- å·²å®‰è£å¿…è¦çš„ Python å¥—ä»¶

### ç³»çµ±å·¥å…·
- Docker Desktopï¼ˆç”¨æ–¼å®¹å™¨æª¢æŸ¥ï¼‰
- Gitï¼ˆç”¨æ–¼ç‰ˆæœ¬æ§åˆ¶æª¢æŸ¥ï¼‰
- Go å·¥å…·éˆï¼ˆç”¨æ–¼ Go æ¨¡çµ„ä¿®å¾©ï¼‰
- Rust å·¥å…·éˆï¼ˆç”¨æ–¼ Rust æ¨¡çµ„ä¿®å¾©ï¼‰

---

## ğŸ” æ•…éšœæ’é™¤

### å•é¡Œï¼šPowerShell è…³æœ¬ç„¡æ³•åŸ·è¡Œ
**è§£æ±ºæ–¹æ¡ˆï¼š**
```powershell
# è¨­ç½®åŸ·è¡Œç­–ç•¥
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### å•é¡Œï¼šPython è…³æœ¬æ‰¾ä¸åˆ°æ¨¡çµ„
**è§£æ±ºæ–¹æ¡ˆï¼š**
```bash
# ç¢ºä¿åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
cd C:\D\fold7\AIVA-git

# æˆ–ä½¿ç”¨ä¿®å¾©å·¥å…·
python scripts\common\maintenance\fix_import_paths.py
```

### å•é¡Œï¼šDocker æª¢æŸ¥å¤±æ•—
**è§£æ±ºæ–¹æ¡ˆï¼š**
```powershell
# ç¢ºä¿ Docker Desktop æ­£åœ¨é‹è¡Œ
# æ‰‹å‹•å•Ÿå‹• Docker Desktop æˆ–åŸ·è¡Œï¼š
Start-Process "C:\Program Files\Docker\Docker\Docker Desktop.exe"
```

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [AIVA é–‹ç™¼è€…æŒ‡å—](../../../DEVELOPER_GUIDE.md)
- [å°ˆæ¡ˆçµæ§‹èªªæ˜](../../../REPOSITORY_STRUCTURE.md)
- [å¿«é€Ÿåƒè€ƒ](../../../QUICK_REFERENCE.md)

---

## ğŸ’¡ æœ€ä½³å¯¦è¸

1. **å®šæœŸåŸ·è¡Œå¥åº·æª¢æŸ¥**
   - æ¯æ—¥å•Ÿå‹•ç³»çµ±æ™‚åŸ·è¡Œ `check_status.ps1`
   - æ¯é€±åŸ·è¡Œ `health_check_multilang.ps1`

2. **å•é¡Œä¿®å¾©æµç¨‹**
   - å…ˆè¨ºæ–·ï¼š`diagnose_system.ps1`
   - å†ä¿®å¾©ï¼š`system_repair_tool.py`
   - æœ€å¾Œé©—è­‰ï¼š`check_status.ps1`

3. **å°ˆæ¡ˆå ±å‘Šç”Ÿæˆ**
   - æ¯é€±ç”Ÿæˆä¸€æ¬¡å°ˆæ¡ˆå ±å‘Š
   - ä½¿ç”¨å·®ç•°æ¯”å°è¿½è¹¤è®Šæ›´
   - ä¿ç•™æ­·å²ç‰ˆæœ¬ç”¨æ–¼è¶¨å‹¢åˆ†æ

4. **ç³»çµ±å„ªåŒ–**
   - å…ˆä½¿ç”¨ `-DryRun` é è¦½è®Šæ›´
   - åœ¨æ¸¬è©¦ç’°å¢ƒé©—è­‰
   - ç¢ºèªç„¡èª¤å¾Œåœ¨ç”Ÿç”¢ç’°å¢ƒåŸ·è¡Œ

---

## ğŸ¤ è²¢ç»

å¦‚éœ€æ–°å¢æˆ–æ”¹é€²ç¶­è­·å·¥å…·ï¼Œè«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. åœ¨æœ¬ç›®éŒ„å‰µå»ºæ–°è…³æœ¬
2. æ›´æ–°æœ¬ README æ–‡ä»¶
3. æ·»åŠ ä½¿ç”¨ç¯„ä¾‹å’Œèªªæ˜
4. é€²è¡Œå……åˆ†æ¸¬è©¦
5. æäº¤ Pull Request

---

## ğŸ“ æ”¯æ´

å¦‚é‡åˆ°å•é¡Œæˆ–éœ€è¦å”åŠ©ï¼š

1. æŸ¥çœ‹æœ¬èªªæ˜æ–‡ä»¶
2. åŸ·è¡Œè¨ºæ–·å·¥å…·ï¼š`diagnose_system.ps1`
3. æª¢æŸ¥ç³»çµ±æ—¥èªŒ
4. è¯ç¹«é–‹ç™¼åœ˜éšŠ

---

**æœ€å¾Œæ›´æ–°ï¼š** 2025-10-25  
**ç‰ˆæœ¬ï¼š** 1.0.0  
**ç¶­è­·è€…ï¼š** AIVA é–‹ç™¼åœ˜éšŠ
