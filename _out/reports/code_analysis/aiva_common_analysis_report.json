{
  "timestamp": "2025-10-16",
  "structure": {
    "schemas/": {
      "file_count": 13,
      "purpose": "Schema 定義 - 數據驗證和序列化"
    },
    "enums/": {
      "file_count": 5,
      "purpose": "枚舉定義 - 常量和類型"
    }
  },
  "import_tests": {
    "passed": 6,
    "failed": 6,
    "details": [
      {
        "test": "from aiva_common.schemas import TaskSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.schemas import FindingSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.schemas import MessageSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.enums import ModuleName",
        "status": "✅ PASS"
      },
      {
        "test": "from aiva_common.enums import Severity",
        "status": "✅ PASS"
      },
      {
        "test": "from aiva_common.enums import Topic",
        "status": "✅ PASS"
      },
      {
        "test": "from aiva_common.schemas.tasks import TaskSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.schemas.findings import FindingSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.enums.modules import ModuleName",
        "status": "✅ PASS"
      },
      {
        "test": "from aiva_common.enums.common import Severity",
        "status": "✅ PASS"
      },
      {
        "test": "from aiva_common.schemas import TaskSchema",
        "status": "❌ FAIL: cannot import name 'AuthType' from 'aiva_common.enums' (C:\\F"
      },
      {
        "test": "from aiva_common.enums import TaskStatus",
        "status": "✅ PASS"
      }
    ]
  },
  "usage_analysis": {
    "core": {
      "schemas_count": 0,
      "enums_count": 3,
      "files_count": 1
    }
  },
  "old_files": [
    {
      "name": "schemas.py",
      "size": 112444,
      "path": "C:\\F\\AIVA\\services\\aiva_common\\schemas.py"
    },
    {
      "name": "enums.py",
      "size": 12725,
      "path": "C:\\F\\AIVA\\services\\aiva_common\\enums.py"
    },
    {
      "name": "ai_schemas.py",
      "size": 18724,
      "path": "C:\\F\\AIVA\\services\\aiva_common\\ai_schemas.py"
    }
  ],
  "issues": [
    {
      "type": "舊檔案衝突",
      "severity": "HIGH",
      "detail": "發現 3 個舊檔案可能造成導入衝突"
    }
  ],
  "recommendations": [
    {
      "priority": "HIGH",
      "category": "清理",
      "action": "刪除 3 個舊檔案",
      "reason": "避免導入衝突和混淆"
    },
    {
      "priority": "HIGH",
      "category": "修復",
      "action": "修復失敗的導入測試",
      "reason": "確保向後相容性"
    },
    {
      "priority": "MEDIUM",
      "category": "文檔",
      "action": "創建遷移指南",
      "reason": "幫助開發者了解新結構和遷移路徑"
    },
    {
      "priority": "MEDIUM",
      "category": "測試",
      "action": "建立自動化整合測試",
      "reason": "確保 schemas 和 enums 在所有服務中正常工作"
    },
    {
      "priority": "LOW",
      "category": "優化",
      "action": "考慮使用 pydantic v2 的新功能",
      "reason": "提升性能和開發體驗"
    },
    {
      "priority": "LOW",
      "category": "擴展",
      "action": "考慮新增 validators/ 模組",
      "reason": "統一管理自訂驗證邏輯"
    }
  ]
}