---
title: AIVA Integration Module Integrated Architecture (Optimized Layout)
---
flowchart TD
    %% ========== ÂûÇÁõ¥ÂàÜÂ±§Êû∂Êßã (Ê∏õÂ∞ëÊñúÁ∑ö) ==========
    
    %% Layer 1: External Input
    subgraph L1["üåê External Input Layer"]
        direction LR
        SCAN_SVC["Scan Service"]
        AI_SVC["AI Services"]
        THREAT_INTEL["Threat Intelligence"]
    end

    %% Layer 2: Gateway & Security
    subgraph L2["üö™ Gateway & Security Layer"]
        direction LR
        API_GATEWAY["API Gateway"]
        AUTH_SVC["Authentication"]
        RATE_LIMITER["Rate Limiter"]
    end
    
    %% Layer 3: Core Processing
    subgraph L3["üéØ Core Processing Layer"]
        direction LR
        AI_RECORDER["AI Operation Recorder"]
        SYS_MONITOR["System Monitor"]
        CONFIG_MGR["Config Manager"]
    end
    
    %% Layer 4: Service Integration
    subgraph L4["üîÑ Service Integration Layer"]
        direction LR
        ANALYSIS_INT["Analysis Integration"]
        RECEPTION_INT["Reception Integration"]
        REPORTING_INT["Reporting Integration"]
    end
    
    %% Layer 5: Data & Processing
    subgraph L5["üìä Data Processing Layer"]
        direction LR
        DATA_RECEPTION["Data Reception"]
        EXPERIENCE_MODELS["Experience Models"]
        LIFECYCLE_MGR["Lifecycle Manager"]
    end
    
    %% Layer 6: Intelligence & Response
    subgraph L6["üõ°Ô∏è Intelligence & Response Layer"]
        direction LR
        RISK_ASSESSMENT["Risk Assessment"]
        REMEDIATION_ENGINE["Remediation Engine"]
        THREAT_ANALYZER["Threat Analyzer"]
    end
    
    %% Layer 7: Output & Monitoring
    subgraph L7["üì§ Output & Monitoring Layer"]
        direction LR
        OBSERVABILITY["Observability"]
        DB_SVC[("Database")]
        COMPLIANCE_CHECK["Compliance Check"]
    end

    %% ========== ÂûÇÁõ¥‰∏ªÊµÅÁ®ã (ÊúÄÂ∞èÂåñÊñúÁ∑ö) ==========
    L1 --> L2
    L2 --> L3
    L3 --> L4
    L4 --> L5
    L5 --> L6
    L6 --> L7
    
    %% ========== ÈóúÈçµË∑ØÂæë (ÂûÇÁõ¥Â∞çÈΩä) ==========
    SCAN_SVC -.-> API_GATEWAY
    API_GATEWAY -.-> AI_RECORDER
    AI_RECORDER -.-> ANALYSIS_INT
    ANALYSIS_INT -.-> DATA_RECEPTION
    DATA_RECEPTION -.-> RISK_ASSESSMENT
    RISK_ASSESSMENT -.-> REMEDIATION_ENGINE
    
    %% ========== Ê∞¥Âπ≥Âçî‰Ωú (Â±§ÂÖßÈÄ£Êé•) ==========
    AUTH_SVC -.-> RATE_LIMITER
    AI_RECORDER -.-> SYS_MONITOR
    SYS_MONITOR -.-> CONFIG_MGR
    
    ANALYSIS_INT -.-> RECEPTION_INT
    RECEPTION_INT -.-> REPORTING_INT
    
    DATA_RECEPTION -.-> EXPERIENCE_MODELS
    EXPERIENCE_MODELS -.-> LIFECYCLE_MGR
    
    RISK_ASSESSMENT -.-> REMEDIATION_ENGINE
    REMEDIATION_ENGINE -.-> THREAT_ANALYZER
    
    %% ========== ÂõûÈ•ãËø¥Ë∑Ø (Áü≠Ë∑ùÈõ¢) ==========
    SYS_MONITOR -.-> AI_RECORDER
    OBSERVABILITY -.-> SYS_MONITOR
    THREAT_ANALYZER -.-> THREAT_INTEL
    
    %% ========== Ê®£ÂºèÂÆöÁæ© ==========
    classDef layer1 fill:#fce4ec,stroke:#880e4f,stroke-width:2px,color:#000
    classDef layer2 fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000
    classDef layer3 fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#000
    classDef layer4 fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef layer5 fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px,color:#000
    classDef layer6 fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef layer7 fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000

    %% ========== ÊáâÁî®Ê®£Âºè ==========
    class SCAN_SVC,AI_SVC,THREAT_INTEL layer1
    class API_GATEWAY,AUTH_SVC,RATE_LIMITER layer2
    class AI_RECORDER,SYS_MONITOR,CONFIG_MGR layer3
    class ANALYSIS_INT,RECEPTION_INT,REPORTING_INT layer4
    class DATA_RECEPTION,EXPERIENCE_MODELS,LIFECYCLE_MGR layer5
    class RISK_ASSESSMENT,REMEDIATION_ENGINE,THREAT_ANALYZER layer6
    class OBSERVABILITY,DB_SVC,COMPLIANCE_CHECK layer7