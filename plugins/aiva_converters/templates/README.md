# AIVA Converters Plugin - Template System

This directory contains Jinja2 templates for code generation across multiple programming languages.

## ğŸ“ Directory Structure

```
templates/
â”œâ”€â”€ python/
â”‚   â”œâ”€â”€ pydantic_model.j2         # Pydantic model template
â”‚   â”œâ”€â”€ dataclass.j2              # Python dataclass template
â”‚   â””â”€â”€ api_client.j2             # API client template
â”œâ”€â”€ typescript/
â”‚   â”œâ”€â”€ interface.j2              # TypeScript interface template
â”‚   â”œâ”€â”€ type_definitions.j2       # Type definition template
â”‚   â””â”€â”€ api_client.j2             # TypeScript API client template
â”œâ”€â”€ rust/
â”‚   â”œâ”€â”€ struct.j2                 # Rust struct template
â”‚   â”œâ”€â”€ enum.j2                   # Rust enum template
â”‚   â””â”€â”€ serde_model.j2            # Serde-compatible model template
â”œâ”€â”€ go/
â”‚   â”œâ”€â”€ struct.j2                 # Go struct template
â”‚   â”œâ”€â”€ interface.j2              # Go interface template
â”‚   â””â”€â”€ json_model.j2             # JSON-compatible model template
â”œâ”€â”€ csharp/
â”‚   â”œâ”€â”€ class.j2                  # C# class template
â”‚   â”œâ”€â”€ record.j2                 # C# record template
â”‚   â””â”€â”€ dto.j2                    # Data Transfer Object template
â”œâ”€â”€ java/
â”‚   â”œâ”€â”€ class.j2                  # Java class template
â”‚   â”œâ”€â”€ record.j2                 # Java record template
â”‚   â””â”€â”€ builder.j2                # Builder pattern template
â””â”€â”€ shared/
    â”œâ”€â”€ openapi.j2                # OpenAPI specification template
    â”œâ”€â”€ protobuf.j2               # Protocol Buffers template
    â””â”€â”€ json_schema.j2            # JSON Schema template
```

## ğŸ¯ Template Usage

Templates are used by the schema code generation tool to produce consistent, well-formatted code across different programming languages.

### Basic Usage
```bash
# Generate using specific template
python plugins/aiva_converters/core/schema_codegen_tool.py \
  --template templates/typescript/interface.j2 \
  --lang typescript

# Generate using default templates
python plugins/aiva_converters/core/schema_codegen_tool.py \
  --lang rust
```

### Custom Template Usage
```python
from jinja2 import Environment, FileSystemLoader
from plugins.aiva_converters.core.template_engine import TemplateEngine

# Load custom template
engine = TemplateEngine()
template = engine.load_template("templates/python/pydantic_model.j2")

# Render with data
code = template.render(
    class_name="SecurityScan",
    fields=[
        {"name": "id", "type": "str", "description": "Unique identifier"},
        {"name": "status", "type": "ScanStatus", "description": "Scan status"}
    ]
)
```

## ğŸ“ Template Variables

Each template receives a standardized set of variables:

### Core Variables
- `class_name`: Name of the class/struct/interface
- `fields`: List of field definitions
- `imports`: Required imports/dependencies  
- `description`: Class description/documentation
- `metadata`: Additional metadata (annotations, decorators, etc.)

### Field Structure
Each field in the `fields` list contains:
```python
{
    "name": "field_name",           # Field name
    "type": "field_type",           # Type name
    "description": "Field desc",    # Documentation
    "required": True,               # Whether field is required
    "default": None,                # Default value (if any)
    "constraints": {},              # Type constraints (min, max, etc.)
    "metadata": {}                  # Language-specific metadata
}
```

## ğŸ”§ Custom Templates

You can create custom templates for specific use cases:

1. **Create template file** with `.j2` extension
2. **Use Jinja2 syntax** for templating logic
3. **Follow naming conventions** for consistency
4. **Include proper documentation** and comments

### Example Custom Template
```jinja2
{# custom_template.j2 #}
/**
 * {{ description }}
 * Generated by AIVA Converters Plugin
 */
{% for import in imports %}
import {{ import }};
{% endfor %}

export interface {{ class_name }} {
{% for field in fields %}
  /**
   * {{ field.description }}
   {% if not field.required %}@optional{% endif %}
   */
  {{ field.name }}{% if not field.required %}?{% endif %}: {{ field.type }};
{% endfor %}
}
```

## ğŸ“‹ Available Templates

Check the subdirectories for language-specific templates and examples of how to structure templates for different output formats.