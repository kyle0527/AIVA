# AIVA Converters Plugin - Template System

This directory contains Jinja2 templates for code generation across multiple programming languages.

## 📁 Directory Structure

```
templates/
├── python/
│   ├── pydantic_model.j2         # Pydantic model template
│   ├── dataclass.j2              # Python dataclass template
│   └── api_client.j2             # API client template
├── typescript/
│   ├── interface.j2              # TypeScript interface template
│   ├── type_definitions.j2       # Type definition template
│   └── api_client.j2             # TypeScript API client template
├── rust/
│   ├── struct.j2                 # Rust struct template
│   ├── enum.j2                   # Rust enum template
│   └── serde_model.j2            # Serde-compatible model template
├── go/
│   ├── struct.j2                 # Go struct template
│   ├── interface.j2              # Go interface template
│   └── json_model.j2             # JSON-compatible model template
├── csharp/
│   ├── class.j2                  # C# class template
│   ├── record.j2                 # C# record template
│   └── dto.j2                    # Data Transfer Object template
├── java/
│   ├── class.j2                  # Java class template
│   ├── record.j2                 # Java record template
│   └── builder.j2                # Builder pattern template
└── shared/
    ├── openapi.j2                # OpenAPI specification template
    ├── protobuf.j2               # Protocol Buffers template
    └── json_schema.j2            # JSON Schema template
```

## 🎯 Template Usage

Templates are used by the schema code generation tool to produce consistent, well-formatted code across different programming languages.

### Basic Usage
```bash
# Generate using specific template
python plugins/aiva_converters/core/schema_codegen_tool.py \
  --template templates/typescript/interface.j2 \
  --lang typescript

# Generate using default templates
python plugins/aiva_converters/core/schema_codegen_tool.py \
  --lang rust
```

### Custom Template Usage
```python
from jinja2 import Environment, FileSystemLoader
from plugins.aiva_converters.core.template_engine import TemplateEngine

# Load custom template
engine = TemplateEngine()
template = engine.load_template("templates/python/pydantic_model.j2")

# Render with data
code = template.render(
    class_name="SecurityScan",
    fields=[
        {"name": "id", "type": "str", "description": "Unique identifier"},
        {"name": "status", "type": "ScanStatus", "description": "Scan status"}
    ]
)
```

## 📝 Template Variables

Each template receives a standardized set of variables:

### Core Variables
- `class_name`: Name of the class/struct/interface
- `fields`: List of field definitions
- `imports`: Required imports/dependencies  
- `description`: Class description/documentation
- `metadata`: Additional metadata (annotations, decorators, etc.)

### Field Structure
Each field in the `fields` list contains:
```python
{
    "name": "field_name",           # Field name
    "type": "field_type",           # Type name
    "description": "Field desc",    # Documentation
    "required": True,               # Whether field is required
    "default": None,                # Default value (if any)
    "constraints": {},              # Type constraints (min, max, etc.)
    "metadata": {}                  # Language-specific metadata
}
```

## 🔧 Custom Templates

You can create custom templates for specific use cases:

1. **Create template file** with `.j2` extension
2. **Use Jinja2 syntax** for templating logic
3. **Follow naming conventions** for consistency
4. **Include proper documentation** and comments

### Example Custom Template
```jinja2
{# custom_template.j2 #}
/**
 * {{ description }}
 * Generated by AIVA Converters Plugin
 */
{% for import in imports %}
import {{ import }};
{% endfor %}

export interface {{ class_name }} {
{% for field in fields %}
  /**
   * {{ field.description }}
   {% if not field.required %}@optional{% endif %}
   */
  {{ field.name }}{% if not field.required %}?{% endif %}: {{ field.type }};
{% endfor %}
}
```

## 📋 Available Templates

Check the subdirectories for language-specific templates and examples of how to structure templates for different output formats.