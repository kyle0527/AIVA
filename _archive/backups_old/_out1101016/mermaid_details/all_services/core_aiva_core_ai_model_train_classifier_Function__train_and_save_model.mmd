flowchart TB
    n1([開始])
    n2([結束])
    n3[&#40;texts, labels&#41; = load_data&#40;db_path&#41;]
    n4{if not texts or not labels}
    n5[raise ValueError&#40;&amp;&#35;39;Dataset is empty; pleas...]
    n6[]
    n7[vectorizer = TfidfVectorizer&#40;&#41;]
    n8[X = vectorizer.fit_trans...]
    n9[y = labels]
    n10[&#40;X_train, X_test, y_train, y_test&#41; = train_test_s...]
    n11[classifier = LogisticRegression&#40;m...]
    n12[classifier.fit&#40;X_train, y_train&#41;]
    n13[y_pred = classifier.predict&#40;X...]
    n14[acc = accuracy_score&#40;y_tes...]
    n15[print&#40;f&amp;&#35;39;Test accuracy: &#123;acc:.2f&#125...]
    n16[print&#40;&amp;&#35;39;Classification report:&amp;&#35;39...]
    n17[print&#40;classification_report&#40;y_test, y_pred&#41;&#41;]
    n18[os.makedirs&#40;os.path.dirname&#40;model_path&#41;, exis...]
    n19[joblib.dump&#40;classifier, model_path&#41;]
    n20[joblib.dump&#40;vectorizer, vectorizer_path&#41;]
    n21[return acc]
    n1 --> n3
    n3 --> n4
    n4 -->|Yes| n5
    n4 -->|No| n6
    n5 --> n6
    n6 --> n7
    n7 --> n8
    n8 --> n9
    n9 --> n10
    n10 --> n11
    n11 --> n12
    n12 --> n13
    n13 --> n14
    n14 --> n15
    n15 --> n16
    n16 --> n17
    n17 --> n18
    n18 --> n19
    n19 --> n20
    n20 --> n21
    n21 --> n2