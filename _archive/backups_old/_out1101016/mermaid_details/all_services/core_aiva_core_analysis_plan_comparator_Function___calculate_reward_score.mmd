flowchart TB
    n1([開始])
    n2([結束])
    n3[&amp;&#35;39;計算獎勵分數（用於強化學習）\n\n        Args:\n           ...]
    n4[base_score = completion_rate * 0....]
    n5[goal_bonus = 0.2 if goal_achieved...]
    n6[quality_bonus = self._calculate_qual...]
    n7[reward = base_score + goal_bo...]
    n8[extra_penalty = min&#40;sum&#40;&#40;1 for m in ...]
    n9[reward = max&#40;0.0, min&#40;reward ...]
    n10[return reward]
    n1 --> n3
    n3 --> n4
    n4 --> n5
    n5 --> n6
    n6 --> n7
    n7 --> n8
    n8 --> n9
    n9 --> n10
    n10 --> n2