flowchart TB
    n1([開始])
    n2([結束])
    n3[&amp;&#35;39;添加程式碼片段到知識庫.\n\n        Args:\n            f...]
    n4[chunk_id = len&#40;self.chunks&#41;]
    n5[chunk = &#123;&amp;&#35;39;id&amp;&#35;39;: chunk_id, &am...]
    n6[self.chunks.append&#40;chunk&#41;]
    n7[keywords = self._extract_keywor...]
    n8{for keyword in keywords}
    n9{if keyword not in self.index}
    n10[self.index&#91;keyword&#93; = &#91;&#93;]
    n11[]
    n12[self.index&#91;keyword&#93;.append&#40;chunk_id&#41;]
    n13[]
    n1 --> n3
    n3 --> n4
    n4 --> n5
    n5 --> n6
    n6 --> n7
    n7 --> n8
    n8 -->|Yes| n9
    n8 -->|No| n13
    n9 -->|Yes| n10
    n9 -->|No| n11
    n10 --> n11
    n11 --> n12
    n12 --> n8
    n13 --> n2