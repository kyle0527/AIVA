flowchart TB
    n1([開始])
    n2([結束])
    n3[&amp;&#35;39;提取代碼上下文&amp;&#35;39;]
    n4[start = max&#40;0, line_num - wi...]
    n5[end = min&#40;len&#40;lines&#41;, line...]
    n6[context_lines = lines&#91;start:end&#93;]
    n7[return &amp;&#35;39;\n&amp;&#35;39;.join&#40;&#40;f&amp;&...]
    n1 --> n3
    n3 --> n4
    n4 --> n5
    n5 --> n6
    n6 --> n7
    n7 --> n2