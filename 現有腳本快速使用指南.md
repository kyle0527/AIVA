# ğŸš€ AIVA ç¾æœ‰è…³æœ¬å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‘ ç›®éŒ„

- [ğŸ“‹ é©—è­‰çµæœç¸½è¦½](#é©—è­‰çµæœç¸½è¦½)
- [ğŸ”§ ç›´æ¥ä½¿ç”¨ç¾æœ‰è…³æœ¬](#ç›´æ¥ä½¿ç”¨ç¾æœ‰è…³æœ¬)
  - [1. çœŸå¯¦æ”»æ“ŠåŸ·è¡Œå™¨ä½¿ç”¨](#1-çœŸå¯¦æ”»æ“ŠåŸ·è¡Œå™¨ä½¿ç”¨)
  - [2. è¼‰è·ç”Ÿæˆå™¨ä½¿ç”¨](#2-è¼‰è·ç”Ÿæˆå™¨ä½¿ç”¨)
  - [3. XSSè¼‰è·ç”Ÿæˆå™¨](#3-xssè¼‰è·ç”Ÿæˆå™¨)
  - [4. æ•´åˆè¼‰è·ç®¡ç†å™¨](#4-æ•´åˆè¼‰è·ç®¡ç†å™¨)
- [ğŸ“Š åŠŸèƒ½è©³ç´°æ¸¬è©¦](#åŠŸèƒ½è©³ç´°æ¸¬è©¦)
- [ğŸ’¡ å®Ÿç”¨ç¯„ä¾‹](#å®Ÿç”¨ç¯„ä¾‹)
- [ğŸ” çµè«–](#çµè«–)

## ğŸ“‹ é©—è­‰çµæœç¸½è¦½

æ ¹æ“šæ¸¬è©¦çµæœï¼ŒAIVA å·²æœ‰å®Œæ•´å¯ç”¨çš„æ”»æ“ŠåŸ·è¡Œå’Œè¼‰è·ç”Ÿæˆè…³æœ¬ï¼Œ**ç„¡éœ€æ–°å»ºåŠŸèƒ½**ï¼š

### âœ… **å·²é©—è­‰å¯ç”¨çš„ç¾æœ‰è…³æœ¬**

| è…³æœ¬é¡å‹ | ä½ç½® | ç‹€æ…‹ | åŠŸèƒ½ |
|---------|------|------|------|
| ğŸ¯ çœŸå¯¦æ”»æ“ŠåŸ·è¡Œå™¨ | `testing/features/real_attack_executor.py` | âœ… å¯ç”¨ | ç«¯å£æƒæã€Webåµå¯Ÿã€çœŸå¯¦æ”»æ“ŠåŸ·è¡Œ |
| ğŸ› ï¸ æ•´åˆè¼‰è·ç®¡ç†å™¨ | `services/integration/capability/payload_generator.py` | âœ… å¯ç”¨ | PowerShellã€Pythonã€Bashè¼‰è·ç”Ÿæˆ |
| âš¡ æ ¸å¿ƒè¼‰è·ç”Ÿæˆå™¨ | `services/core/aiva_core/attack/payload_generator.py` | âœ… å¯ç”¨ | SQLæ³¨å…¥ã€XSSã€å‘½ä»¤æ³¨å…¥è¼‰è· |
| ğŸ¯ XSSè¼‰è·ç”Ÿæˆå™¨ | `services/features/function_xss/payload_generator.py` | âœ… å¯ç”¨ | åŸºç¤ã€é€²éšXSSè¼‰è·ç”Ÿæˆ |

---

## ğŸ”§ **ç›´æ¥ä½¿ç”¨ç¾æœ‰è…³æœ¬**

### 1. **çœŸå¯¦æ”»æ“ŠåŸ·è¡Œå™¨ä½¿ç”¨**

```powershell
# åˆ‡æ›åˆ°æ”»æ“ŠåŸ·è¡Œå™¨ç›®éŒ„
cd "c:\D\fold7\AIVA-git\testing\features"

# åŸ·è¡Œç«¯å£æƒæ
python -c "
import asyncio
from real_attack_executor import RealAttackExecutor
executor = RealAttackExecutor()
result = asyncio.run(executor.real_port_scan('127.0.0.1'))
print('æƒæå®Œæˆ:', result)
"

# åŸ·è¡ŒWebåµå¯Ÿ
python -c "
import asyncio  
from real_attack_executor import RealAttackExecutor
executor = RealAttackExecutor()
result = asyncio.run(executor.real_web_reconnaissance('http://example.com'))
print('åµå¯Ÿå®Œæˆ:', result)
"
```

### 2. **XSSè¼‰è·ç”Ÿæˆå™¨ä½¿ç”¨**

```powershell
# åˆ‡æ›åˆ°XSSè¼‰è·ç”Ÿæˆå™¨ç›®éŒ„
cd "c:\D\fold7\AIVA-git\services\features\function_xss"

# ç”ŸæˆXSSè¼‰è·
python -c "
from payload_generator import XssPayloadGenerator
generator = XssPayloadGenerator()

# åŸºç¤è¼‰è·
basic = generator.generate_basic_payloads()
print('åŸºç¤XSSè¼‰è·:', basic)

# é€²éšè¼‰è·  
advanced = generator.generate_advanced_payloads()
print('é€²éšXSSè¼‰è·:', advanced)

# è‡ªå®šç¾©è¼‰è·çµ„åˆ
custom = generator.generate(
    payload_sets=['basic', 'advanced'],
    custom_payloads=['<script>alert(\"Custom AIVA Test\")</script>']
)
print('è‡ªå®šç¾©è¼‰è·:', custom)
"
```

### 3. **æ ¸å¿ƒè¼‰è·ç”Ÿæˆå™¨ä½¿ç”¨**

```powershell
# åˆ‡æ›åˆ°æ ¸å¿ƒè¼‰è·ç”Ÿæˆå™¨ç›®éŒ„
cd "c:\D\fold7\AIVA-git\services\core\aiva_core\attack"

# ç”Ÿæˆå¤šç¨®è¼‰è·
python -c "
from payload_generator import PayloadGenerator, PayloadEncodingType
generator = PayloadGenerator()

# SQLæ³¨å…¥è¼‰è·
sql_payloads = generator.generate(
    'sql_injection', 
    custom_params={'table': 'users', 'columns': 'username,password'}
)
print('SQLæ³¨å…¥è¼‰è·:', sql_payloads)

# XSSè¼‰è· (URLç·¨ç¢¼)
xss_payloads = generator.generate(
    'xss',
    encoding=PayloadEncodingType.URL_ENCODE,
    custom_params={'message': 'AIVAæ¸¬è©¦'}
)
print('XSSè¼‰è·(URLç·¨ç¢¼):', xss_payloads)

# å‘½ä»¤æ³¨å…¥è¼‰è·
cmd_payloads = generator.generate(
    'command_injection',
    custom_params={'command': 'whoami && id'}
)
print('å‘½ä»¤æ³¨å…¥è¼‰è·:', cmd_payloads)
"
```

### 4. **æ•´åˆè¼‰è·ç®¡ç†å™¨ä½¿ç”¨**

```powershell
# åˆ‡æ›åˆ°æ•´åˆè¼‰è·ç®¡ç†å™¨ç›®éŒ„
cd "c:\D\fold7\AIVA-git\services\integration\capability"

# ä½¿ç”¨è¼‰è·ç®¡ç†å™¨
python -c "
import asyncio
from payload_generator import PayloadManager, PayloadType

async def demo():
    manager = PayloadManager()
    
    # å‰µå»ºPowerShellè¼‰è·é…ç½®
    config = manager.create_payload_config(
        name='test_powershell',
        payload_type=PayloadType.POWERSHELL_SCRIPT,
        lhost='192.168.1.100',
        lport=4444
    )
    
    # ç”Ÿæˆè¼‰è·
    result = await manager.generate_payload(config)
    print('è¼‰è·ç”Ÿæˆçµæœ:', result.success)
    print('é…ç½®:', config)

asyncio.run(demo())
"
```

---

## ğŸ¯ **å¯¦æˆ°çµ„åˆä½¿ç”¨ç¤ºä¾‹**

### å®Œæ•´æ”»æ“Šæµç¨‹è…³æœ¬

```python
#!/usr/bin/env python3
"""AIVA ç¾æœ‰è…³æœ¬å¯¦æˆ°çµ„åˆä½¿ç”¨"""
import asyncio
import sys
from pathlib import Path

# æ·»åŠ å¿…è¦è·¯å¾‘
root = Path(__file__).parent
sys.path.extend([
    str(root / "testing" / "features"),
    str(root / "services" / "features" / "function_xss"), 
    str(root / "services" / "core" / "aiva_core" / "attack")
])

async def aiva_attack_flow(target_url: str):
    """AIVA æ”»æ“Šæµç¨‹æ¼”ç¤º"""
    
    # 1. åˆå§‹åŒ–çµ„ä»¶
    from real_attack_executor import RealAttackExecutor
    from payload_generator import XssPayloadGenerator
    from payload_generator import PayloadGenerator
    
    executor = RealAttackExecutor()
    xss_generator = XssPayloadGenerator()
    core_generator = PayloadGenerator()
    
    print(f"ğŸ¯ é–‹å§‹æ”»æ“Šæµç¨‹: {target_url}")
    
    # 2. ç›®æ¨™åµå¯Ÿ
    recon_result = await executor.real_web_reconnaissance(target_url)
    print("âœ… åµå¯Ÿå®Œæˆ")
    
    # 3. è¼‰è·ç”Ÿæˆ
    xss_payloads = xss_generator.generate_all_payloads()
    sql_payloads = core_generator.generate('sql_injection')
    
    print(f"ğŸ› ï¸ ç”Ÿæˆè¼‰è·: XSS({len(xss_payloads)}) + SQL({len(sql_payloads)})")
    
    # 4. æ”»æ“ŠåŸ·è¡Œ (æ¨¡æ“¬)
    attack_plan = {
        'target': target_url,
        'reconnaissance': recon_result,
        'payloads': {
            'xss': xss_payloads[:3],
            'sql': sql_payloads[:3] 
        }
    }
    
    print("ğŸš€ æ”»æ“Šè¨ˆç•«æº–å‚™å®Œæˆ")
    return attack_plan

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    target = "http://127.0.0.1:3000"
    result = asyncio.run(aiva_attack_flow(target))
    print("ğŸ“Š æ”»æ“Šæµç¨‹å®Œæˆ")
```

---

## ğŸ“Š **åŠŸèƒ½é©—è­‰ç¸½çµ**

### âœ… **æˆåŠŸé©—è­‰çš„åŠŸèƒ½**

1. **çœŸå¯¦æ”»æ“ŠåŸ·è¡Œå™¨**
   - âœ… å·¥å…·æª¢æŸ¥ (curl, nmap, python, powershell)
   - âœ… ç«¯å£æƒæåŠŸèƒ½ (socket + nmap)
   - âœ… Webåµå¯ŸåŠŸèƒ½
   - âœ… æœå‹™è­˜åˆ¥åŠŸèƒ½

2. **XSSè¼‰è·ç”Ÿæˆå™¨** 
   - âœ… åŸºç¤XSSè¼‰è·ç”Ÿæˆ (3å€‹)
   - âœ… é€²éšXSSè¼‰è·ç”Ÿæˆ (3å€‹)
   - âœ… è‡ªå®šç¾©è¼‰è·çµ„åˆ
   - âœ… å»é‡å„ªå…ˆæ’åº

3. **æ ¸å¿ƒè¼‰è·ç”Ÿæˆå™¨**
   - âœ… SQLæ³¨å…¥è¼‰è·ç”Ÿæˆ (5å€‹)
   - âœ… XSSè¼‰è·ç”Ÿæˆ (4å€‹)
   - âœ… å‘½ä»¤æ³¨å…¥è¼‰è·ç”Ÿæˆ
   - âœ… URLç·¨ç¢¼åŠŸèƒ½
   - âœ… åƒæ•¸è‡ªå®šç¾©

4. **æ•´åˆè¼‰è·ç®¡ç†å™¨**
   - âœ… PowerShellã€Pythonã€Bashè…³æœ¬ç”Ÿæˆ
   - âœ… è¼‰è·é…ç½®ç®¡ç†
   - âœ… çµ±è¨ˆåŠŸèƒ½

### ğŸ¯ **ç¾æœ‰è…³æœ¬å„ªå‹¢**

- âœ… **å®Œæ•´æ€§**: æ¶µè“‹æ”»æ“ŠåŸ·è¡Œã€è¼‰è·ç”Ÿæˆã€ç›®æ¨™åµå¯Ÿ
- âœ… **å¯¦ç”¨æ€§**: ç›´æ¥å¯ç”¨ï¼Œç„¡éœ€æ–°å»ºåŠŸèƒ½  
- âœ… **æ¨¡çµ„åŒ–**: å„çµ„ä»¶ç¨ç«‹ï¼Œå¯éˆæ´»çµ„åˆ
- âœ… **æ“´å±•æ€§**: æ”¯æŒè‡ªå®šç¾©åƒæ•¸å’Œè¼‰è·
- âœ… **ç©©å®šæ€§**: å·²ç¶“éæ¸¬è©¦é©—è­‰

---

## ğŸš€ **çµè«–**

**AIVA å·²æœ‰å®Œæ•´å¯ç”¨çš„æ”»æ“ŠåŸ·è¡Œå’Œè¼‰è·ç”Ÿæˆè…³æœ¬ï¼Œå®Œå…¨å¯ä»¥æ»¿è¶³çµ„åœ–çš„é‚è¼¯éœ€æ±‚ï¼Œç„¡éœ€æ–°å¢åŠŸèƒ½ã€‚**

å»ºè­°ç›´æ¥ä½¿ç”¨ç¾æœ‰è…³æœ¬é€²è¡Œï¼š
1. ç›®æ¨™åµå¯Ÿå’Œç«¯å£æƒæ
2. å¤šç¨®é¡å‹è¼‰è·ç”Ÿæˆ  
3. æ”»æ“ŠåŸ·è¡Œå’Œçµæœæ”¶é›†
4. æµç¨‹æ•´åˆå’Œè‡ªå‹•åŒ–

ç¾æœ‰è…³æœ¬å·²ç¶“å¯¦ç¾äº†æ¥­å‹™æµç¨‹åœ–ä¸­çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼